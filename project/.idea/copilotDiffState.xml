<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/AndroidManifest.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/AndroidManifest.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;&#10;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;&#10;&#10;    &lt;!-- for vocal research --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;&#10;&#10;    &lt;application&#10;        android:allowBackup=&quot;true&quot;&#10;        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;&#10;        android:fullBackupContent=&quot;@xml/backup_rules&quot;&#10;        android:icon=&quot;@mipmap/ic_launcher&quot;&#10;        android:label=&quot;@string/app_name&quot;&#10;        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;&#10;        android:supportsRtl=&quot;true&quot;&#10;        android:theme=&quot;@style/Theme.Project&quot;&gt;&#10;        &lt;activity&#10;            android:name=&quot;.LoginPageActivity&quot;&#10;            android:exported=&quot;true&quot;&gt;&#10;            &lt;intent-filter&gt;&#10;                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;&#10;&#10;                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;&#10;            &lt;/intent-filter&gt;&#10;        &lt;/activity&gt;&#10;        &lt;activity&#10;            android:name=&quot;.RestaurantViewActivity&quot;&#10;            android:exported=&quot;false&quot; /&gt;&#10;        &lt;activity&#10;            android:name=&quot;.RestaurantDetailActivity&quot;&#10;            android:exported=&quot;false&quot;&#10;            android:parentActivityName=&quot;.RestaurantViewActivity&quot; /&gt;&#10;        &lt;activity&#10;            android:name=&quot;.RestaurantMenuActivity&quot;&#10;            android:exported=&quot;false&quot;&#10;            android:parentActivityName=&quot;.RestaurantDetailActivity&quot; /&gt;&#10;        &lt;activity&#10;            android:name=&quot;.MapActivity&quot;&#10;            android:label=&quot;Map&quot;&gt;&#10;        &lt;/activity&gt;&#10;        &lt;meta-data&#10;            android:name=&quot;com.google.android.geo.API_KEY&quot;&#10;            android:value=&quot;AIzaSyB8QHLBZkGoRNlI0LwQXz8FHgZhEtW1DQY&quot; /&gt;&#10;    &lt;/application&gt;&#10;&#10;&lt;/manifest&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;&#10;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;&#10;&#10;    &lt;!-- for vocal research --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;&#10;    &#10;    &lt;!-- for media (video and images) --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; &#10;        android:maxSdkVersion=&quot;32&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;&#10;&#10;    &lt;application&#10;        android:allowBackup=&quot;true&quot;&#10;        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;&#10;        android:fullBackupContent=&quot;@xml/backup_rules&quot;&#10;        android:icon=&quot;@mipmap/ic_launcher&quot;&#10;        android:label=&quot;@string/app_name&quot;&#10;        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;&#10;        android:supportsRtl=&quot;true&quot;&#10;        android:theme=&quot;@style/Theme.Project&quot;&gt;&#10;        &lt;activity&#10;            android:name=&quot;.LoginPageActivity&quot;&#10;            android:exported=&quot;true&quot;&gt;&#10;            &lt;intent-filter&gt;&#10;                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;&#10;&#10;                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;&#10;            &lt;/intent-filter&gt;&#10;        &lt;/activity&gt;&#10;        &lt;activity&#10;            android:name=&quot;.RestaurantViewActivity&quot;&#10;            android:exported=&quot;false&quot; /&gt;&#10;        &lt;activity&#10;            android:name=&quot;.RestaurantDetailActivity&quot;&#10;            android:exported=&quot;false&quot;&#10;            android:parentActivityName=&quot;.RestaurantViewActivity&quot; /&gt;&#10;        &lt;activity&#10;            android:name=&quot;.RestaurantMenuActivity&quot;&#10;            android:exported=&quot;false&quot;&#10;            android:parentActivityName=&quot;.RestaurantDetailActivity&quot; /&gt;&#10;        &lt;activity&#10;            android:name=&quot;.MapActivity&quot;&#10;            android:label=&quot;Map&quot;&gt;&#10;        &lt;/activity&gt;&#10;        &lt;meta-data&#10;            android:name=&quot;com.google.android.geo.API_KEY&quot;&#10;            android:value=&quot;AIzaSyB8QHLBZkGoRNlI0LwQXz8FHgZhEtW1DQY&quot; /&gt;&#10;    &lt;/application&gt;&#10;&#10;&lt;/manifest&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/test/project/Dish.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/test/project/Dish.kt" />
              <option name="updatedContent" value="package com.test.project&#10;&#10;data class Dish(&#10;    val id: Int,&#10;    val name: String,&#10;    val description: String,&#10;    val price: Double,&#10;    val imageUrl: String? = null&#10;)" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/test/project/LoginPageActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/test/project/LoginPageActivity.kt" />
              <option name="originalContent" value="package com.test.project&#10;&#10;import android.content.Intent&#10;import android.os.Bundle&#10;import android.util.Log&#10;import android.widget.Button&#10;import android.widget.EditText&#10;import android.widget.Toast&#10;import androidx.activity.enableEdgeToEdge&#10;import androidx.appcompat.app.AppCompatActivity&#10;import androidx.core.view.ViewCompat&#10;import androidx.core.view.WindowInsetsCompat&#10;import com.test.project.database.DatabaseHelper&#10;import org.mindrot.jbcrypt.BCrypt&#10;import androidx.core.content.edit&#10;&#10;class LoginPageActivity : AppCompatActivity()&#10;{&#10;    lateinit var usernameInput : EditText&#10;    lateinit var passwordInput : EditText&#10;    lateinit var loginBtn : Button&#10;&#10;    lateinit var databaseHelper: DatabaseHelper&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?)&#10;    {&#10;        super.onCreate(savedInstanceState)&#10;&#10;        // Check if user is already logged in&#10;        if (isUserLoggedIn()) {&#10;            val intent = Intent(this, RestaurantViewActivity::class.java)&#10;            startActivity(intent)&#10;            finish()&#10;            return&#10;        }&#10;&#10;        setContentView(R.layout.activity_login_page)&#10;&#10;        databaseHelper = DatabaseHelper(this)&#10;&#10;        usernameInput = findViewById(R.id.username_input)&#10;        passwordInput = findViewById(R.id.password_input)&#10;        loginBtn = findViewById(R.id.login_button)&#10;&#10;        loginBtn.setOnClickListener()&#10;        {&#10;            val email = usernameInput.text.toString();&#10;            val password = passwordInput.text.toString();&#10;&#10;            if (email.isEmpty() || password.isEmpty()) {&#10;                Toast.makeText(this, &quot;Please fill all fields&quot;, Toast.LENGTH_SHORT).show()&#10;                return@setOnClickListener&#10;            }&#10;&#10;            val user = databaseHelper.authenticateUser(email, password)&#10;            if (user != null) {&#10;                // Login successful&#10;                Toast.makeText(this, &quot;Welcome ${user.name}!&quot;, Toast.LENGTH_SHORT).show()&#10;&#10;                // Save user session&#10;                saveUserSession(user)&#10;&#10;                // Navigate to main activity&#10;                val intent = Intent(this, RestaurantViewActivity::class.java)&#10;                intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TASK&#10;                startActivity(intent)&#10;                finish()&#10;            } else {&#10;                Toast.makeText(this, &quot;Invalid email or password&quot;, Toast.LENGTH_SHORT).show()&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun saveUserSession(user: com.test.project.database.User) {&#10;        val sharedPref = getSharedPreferences(&quot;user_session&quot;, MODE_PRIVATE)&#10;        sharedPref.edit() {&#10;            putString(&quot;user_name&quot;, user.name)&#10;            putString(&quot;user_email&quot;, user.email)&#10;            putBoolean(&quot;is_logged_in&quot;, true)&#10;        }&#10;    }&#10;&#10;    private fun isUserLoggedIn(): Boolean {&#10;        val sharedPref = getSharedPreferences(&quot;user_session&quot;, MODE_PRIVATE)&#10;        return sharedPref.getBoolean(&quot;is_logged_in&quot;, false)&#10;    }&#10;&#10;&#10;}" />
              <option name="updatedContent" value="package com.test.project&#10;&#10;import android.content.Intent&#10;import android.os.Bundle&#10;import android.util.Log&#10;import android.widget.Button&#10;import android.widget.EditText&#10;import android.widget.Toast&#10;import androidx.activity.enableEdgeToEdge&#10;import androidx.appcompat.app.AppCompatActivity&#10;import androidx.core.view.ViewCompat&#10;import androidx.core.view.WindowInsetsCompat&#10;import com.test.project.database.DatabaseHelper&#10;import org.mindrot.jbcrypt.BCrypt&#10;import androidx.core.content.edit&#10;&#10;class LoginPageActivity : AppCompatActivity()&#10;{&#10;    lateinit var usernameInput : EditText&#10;    lateinit var passwordInput : EditText&#10;    lateinit var loginBtn : Button&#10;&#10;    lateinit var databaseHelper: DatabaseHelper&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?)&#10;    {&#10;        super.onCreate(savedInstanceState)&#10;&#10;        // Check if user is already logged in&#10;        if (isUserLoggedIn()) {&#10;            val intent = Intent(this, RestaurantViewActivity::class.java)&#10;            startActivity(intent)&#10;            finish()&#10;            return&#10;        }&#10;&#10;        setContentView(R.layout.activity_login_page)&#10;&#10;        databaseHelper = DatabaseHelper(this)&#10;&#10;        usernameInput = findViewById(R.id.username_input)&#10;        passwordInput = findViewById(R.id.password_input)&#10;        loginBtn = findViewById(R.id.login_button)&#10;&#10;        loginBtn.setOnClickListener()&#10;        {&#10;            val email = usernameInput.text.toString();&#10;            val password = passwordInput.text.toString();&#10;&#10;            if (email.isEmpty() || password.isEmpty()) {&#10;                Toast.makeText(this, &quot;Please fill all fields&quot;, Toast.LENGTH_SHORT).show()&#10;                return@setOnClickListener&#10;            }&#10;&#10;            val user = databaseHelper.authenticateUser(email, password)&#10;            if (user != null) {&#10;                // Login successful&#10;                Toast.makeText(this, &quot;Welcome ${user.name}!&quot;, Toast.LENGTH_SHORT).show()&#10;&#10;                // Save user session&#10;                saveUserSession(user)&#10;&#10;                // Navigate to main activity&#10;                val intent = Intent(this, RestaurantViewActivity::class.java)&#10;                intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TASK&#10;                startActivity(intent)&#10;                finish()&#10;            } else {&#10;                Toast.makeText(this, &quot;Invalid email or password&quot;, Toast.LENGTH_SHORT).show()&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun saveUserSession(user: com.test.project.database.User) {&#10;        val sharedPref = getSharedPreferences(&quot;user_session&quot;, MODE_PRIVATE)&#10;        sharedPref.edit() {&#10;            putString(&quot;user_name&quot;, user.name)&#10;            putString(&quot;user_email&quot;, user.email)&#10;            putBoolean(&quot;is_logged_in&quot;, true)&#10;        }&#10;    }&#10;&#10;    private fun isUserLoggedIn(): Boolean {&#10;        val sharedPref = getSharedPreferences(&quot;user_session&quot;, MODE_PRIVATE)&#10;        return sharedPref.getBoolean(&quot;is_logged_in&quot;, false)&#10;    }&#10;&#10;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/test/project/RestaurantDetailActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/test/project/RestaurantDetailActivity.kt" />
              <option name="originalContent" value="package com.test.project&#10;&#10;import android.content.Intent&#10;import android.widget.Button&#10;import android.widget.ImageButton&#10;import android.widget.TextView&#10;import android.widget.Toast&#10;import android.widget.EditText&#10;import android.widget.RatingBar&#10;import androidx.appcompat.app.AppCompatActivity&#10;import androidx.appcompat.app.AlertDialog&#10;import androidx.recyclerview.widget.LinearLayoutManager&#10;import androidx.recyclerview.widget.RecyclerView&#10;import com.test.project.database.DatabaseHelper&#10;import com.test.project.database.Review&#10;import com.test.project.database.Restaurant&#10;&#10;class RestaurantDetailActivity : AppCompatActivity() {&#10;&#10;    private lateinit var databaseHelper: DatabaseHelper&#10;    private lateinit var reviewAdapter: ReviewAdapter&#10;    private lateinit var reviewsRecyclerView: RecyclerView&#10;    private var currentRestaurant: Restaurant? = null&#10;    private var currentUserId: Int? = null&#10;&#10;    override fun onCreate(savedInstanceState: android.os.Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setContentView(R.layout.activity_restaurant_detail)&#10;&#10;        // Initialize database helper&#10;        databaseHelper = DatabaseHelper(this)&#10;&#10;        // Get current user ID from session&#10;        currentUserId = getCurrentUserId()&#10;&#10;        // Initialize views&#10;        val restaurantNameTextView: TextView = findViewById(R.id.restaurantNameTextView)&#10;        val viewMenuButton: Button = findViewById(R.id.viewMenuButton)&#10;        val backButton: ImageButton = findViewById(R.id.backButton)&#10;        val addCommentButton: Button = findViewById(R.id.addCommentButton)&#10;        reviewsRecyclerView = findViewById(R.id.reviewsRecyclerView)&#10;&#10;        // Get restaurant name and load restaurant data&#10;        val restaurantName = intent.getStringExtra(&quot;restaurantName&quot;) ?: &quot;Restaurant&quot;&#10;        restaurantNameTextView.text = restaurantName&#10;&#10;        // Load restaurant from database&#10;        currentRestaurant = databaseHelper.getRestaurantByName(restaurantName)&#10;&#10;        // Set up RecyclerView&#10;        setupRecyclerView()&#10;&#10;        // Load reviews&#10;        loadReviews()&#10;&#10;        // Set up button click listeners&#10;        viewMenuButton.setOnClickListener {&#10;            val intent = Intent(this, RestaurantMenuActivity::class.java)&#10;            intent.putExtra(&quot;RESTAURANT_NAME&quot;, restaurantName)&#10;            startActivity(intent)&#10;        }&#10;&#10;        backButton.setOnClickListener {&#10;            finish()&#10;        }&#10;&#10;        addCommentButton.setOnClickListener {&#10;            if (currentUserId == null) {&#10;                Toast.makeText(this, &quot;Please log in to add a review&quot;, Toast.LENGTH_SHORT).show()&#10;                return@setOnClickListener&#10;            }&#10;            showAddReviewDialog()&#10;        }&#10;    }&#10;&#10;    private fun getCurrentUserId(): Int? {&#10;        val sharedPref = getSharedPreferences(&quot;user_session&quot;, MODE_PRIVATE)&#10;        val isLoggedIn = sharedPref.getBoolean(&quot;is_logged_in&quot;, false)&#10;        if (!isLoggedIn) return null&#10;&#10;        val userEmail = sharedPref.getString(&quot;user_email&quot;, null) ?: return null&#10;        val user = databaseHelper.getUserByEmail(userEmail)&#10;        return user?.id&#10;    }&#10;&#10;    private fun setupRecyclerView() {&#10;        reviewAdapter = ReviewAdapter(mutableListOf(), databaseHelper)&#10;        reviewsRecyclerView.apply {&#10;            layoutManager = LinearLayoutManager(this@RestaurantDetailActivity)&#10;            adapter = reviewAdapter&#10;        }&#10;    }&#10;&#10;    private fun loadReviews() {&#10;        currentRestaurant?.let { restaurant -&gt;&#10;            val restaurantId = restaurant.id&#10;            if (restaurantId != null) {&#10;                val reviews = databaseHelper.getReviewsForRestaurant(restaurantId)&#10;                reviewAdapter.updateReviews(reviews)&#10;            } else {&#10;                // Restaurant doesn't have an ID (shouldn't happen with existing restaurants)&#10;                Toast.makeText(this, &quot;Unable to load reviews for this restaurant&quot;, Toast.LENGTH_SHORT).show()&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun showAddReviewDialog() {&#10;        val currentUser = currentUserId ?: return&#10;        val restaurant = currentRestaurant ?: return&#10;        val restaurantId = restaurant.id ?: run {&#10;            Toast.makeText(this, &quot;Unable to add review for this restaurant&quot;, Toast.LENGTH_SHORT).show()&#10;            return&#10;        }&#10;&#10;        // Check if user already has a review for this restaurant&#10;        val existingReview = databaseHelper.getUserReviewForRestaurant(currentUser, restaurantId)&#10;&#10;        val dialogView = layoutInflater.inflate(R.layout.dialog_add_review, null)&#10;        val ratingBar: RatingBar = dialogView.findViewById(R.id.dialogRatingBar)&#10;        val commentEditText: EditText = dialogView.findViewById(R.id.commentEditText)&#10;&#10;        // Pre-fill with existing review if available&#10;        existingReview?.let { review -&gt;&#10;            ratingBar.rating = review.rating&#10;            commentEditText.setText(review.comment)&#10;        }&#10;&#10;        val dialog = AlertDialog.Builder(this)&#10;            .setView(dialogView)&#10;            .setPositiveButton(if (existingReview != null) &quot;Update&quot; else &quot;Submit&quot;) { _, _ -&gt;&#10;                val rating = ratingBar.rating&#10;                val comment = commentEditText.text.toString().trim()&#10;&#10;                if (rating == 0f) {&#10;                    Toast.makeText(this, &quot;Please provide a rating&quot;, Toast.LENGTH_SHORT).show()&#10;                    return@setPositiveButton&#10;                }&#10;&#10;                val review = Review(&#10;                    userId = currentUser,&#10;                    restaurantId = restaurantId,&#10;                    rating = rating,&#10;                    comment = comment&#10;                )&#10;&#10;                if (databaseHelper.insertOrUpdateReview(review)) {&#10;                    Toast.makeText(this,&#10;                        if (existingReview != null) &quot;Review updated successfully&quot; else &quot;Review added successfully&quot;,&#10;                        Toast.LENGTH_SHORT).show()&#10;                    loadReviews() // Refresh the reviews list&#10;&#10;                    // Reload restaurant data to get updated rating&#10;                    currentRestaurant = databaseHelper.getRestaurantByName(restaurant.name)&#10;&#10;                    // Set result to notify calling activity to refresh&#10;                    setResult(RESULT_OK)&#10;                } else {&#10;                    Toast.makeText(this, &quot;Failed to save review&quot;, Toast.LENGTH_SHORT).show()&#10;                }&#10;            }&#10;            .setNegativeButton(&quot;Cancel&quot;, null)&#10;&#10;        // Add delete option if review exists&#10;        if (existingReview != null) {&#10;            dialog.setNeutralButton(&quot;Delete&quot;) { _, _ -&gt;&#10;                if (databaseHelper.deleteReview(currentUser, restaurantId)) {&#10;                    Toast.makeText(this, &quot;Review deleted successfully&quot;, Toast.LENGTH_SHORT).show()&#10;                    loadReviews() // Refresh the reviews list&#10;&#10;                    // Reload restaurant data to get updated rating&#10;                    currentRestaurant = databaseHelper.getRestaurantByName(restaurant.name)&#10;&#10;                    // Set result to notify calling activity to refresh&#10;                    setResult(RESULT_OK)&#10;                } else {&#10;                    Toast.makeText(this, &quot;Failed to delete review&quot;, Toast.LENGTH_SHORT).show()&#10;                }&#10;            }&#10;        }&#10;&#10;        dialog.create().show()&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.test.project&#10;&#10;import android.content.Intent&#10;import android.widget.Button&#10;import android.widget.ImageButton&#10;import android.widget.TextView&#10;import android.widget.Toast&#10;import android.widget.EditText&#10;import android.widget.RatingBar&#10;import androidx.appcompat.app.AppCompatActivity&#10;import androidx.appcompat.app.AlertDialog&#10;import androidx.recyclerview.widget.LinearLayoutManager&#10;import androidx.recyclerview.widget.RecyclerView&#10;import com.test.project.database.DatabaseHelper&#10;import com.test.project.database.Review&#10;import com.test.project.database.Restaurant&#10;&#10;class RestaurantDetailActivity : AppCompatActivity() {&#10;&#10;    private lateinit var databaseHelper: DatabaseHelper&#10;    private lateinit var reviewAdapter: ReviewAdapter&#10;    private lateinit var reviewsRecyclerView: RecyclerView&#10;    private var currentRestaurant: Restaurant? = null&#10;    private var currentUserId: Int? = null&#10;&#10;    override fun onCreate(savedInstanceState: android.os.Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setContentView(R.layout.activity_restaurant_detail)&#10;&#10;        // Initialize database helper&#10;        databaseHelper = DatabaseHelper(this)&#10;&#10;        // Get current user ID from session&#10;        currentUserId = getCurrentUserId()&#10;&#10;        // Initialize views&#10;        val restaurantNameTextView: TextView = findViewById(R.id.restaurantNameTextView)&#10;        val viewMenuButton: Button = findViewById(R.id.viewMenuButton)&#10;        val backButton: ImageButton = findViewById(R.id.backButton)&#10;        val addCommentButton: Button = findViewById(R.id.addCommentButton)&#10;        reviewsRecyclerView = findViewById(R.id.reviewsRecyclerView)&#10;&#10;        // Get restaurant name and load restaurant data&#10;        val restaurantName = intent.getStringExtra(&quot;restaurantName&quot;) ?: &quot;Restaurant&quot;&#10;        restaurantNameTextView.text = restaurantName&#10;&#10;        // Load restaurant from database&#10;        currentRestaurant = databaseHelper.getRestaurantByName(restaurantName)&#10;&#10;        // Set up RecyclerView&#10;        setupRecyclerView()&#10;&#10;        // Load reviews&#10;        loadReviews()&#10;&#10;        // Set up button click listeners&#10;        viewMenuButton.setOnClickListener {&#10;            val intent = Intent(this, RestaurantMenuActivity::class.java)&#10;            intent.putExtra(&quot;RESTAURANT_NAME&quot;, restaurantName)&#10;            startActivity(intent)&#10;        }&#10;&#10;        backButton.setOnClickListener {&#10;            finish()&#10;        }&#10;&#10;        addCommentButton.setOnClickListener {&#10;            if (currentUserId == null) {&#10;                Toast.makeText(this, &quot;Please log in to add a review&quot;, Toast.LENGTH_SHORT).show()&#10;                return@setOnClickListener&#10;            }&#10;            showAddReviewDialog()&#10;        }&#10;    }&#10;&#10;    private fun getCurrentUserId(): Int? {&#10;        val sharedPref = getSharedPreferences(&quot;user_session&quot;, MODE_PRIVATE)&#10;        val isLoggedIn = sharedPref.getBoolean(&quot;is_logged_in&quot;, false)&#10;        if (!isLoggedIn) return null&#10;&#10;        val userEmail = sharedPref.getString(&quot;user_email&quot;, null) ?: return null&#10;        val user = databaseHelper.getUserByEmail(userEmail)&#10;        return user?.id&#10;    }&#10;&#10;    private fun setupRecyclerView() {&#10;        reviewAdapter = ReviewAdapter(mutableListOf(), databaseHelper)&#10;        reviewsRecyclerView.apply {&#10;            layoutManager = LinearLayoutManager(this@RestaurantDetailActivity)&#10;            adapter = reviewAdapter&#10;        }&#10;    }&#10;&#10;    private fun loadReviews() {&#10;        currentRestaurant?.let { restaurant -&gt;&#10;            val restaurantId = restaurant.id&#10;            if (restaurantId != null) {&#10;                val reviews = databaseHelper.getReviewsForRestaurant(restaurantId)&#10;                reviewAdapter.updateReviews(reviews)&#10;            } else {&#10;                // Restaurant doesn't have an ID (shouldn't happen with existing restaurants)&#10;                Toast.makeText(this, &quot;Unable to load reviews for this restaurant&quot;, Toast.LENGTH_SHORT).show()&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun showAddReviewDialog() {&#10;        val currentUser = currentUserId ?: return&#10;        val restaurant = currentRestaurant ?: return&#10;        val restaurantId = restaurant.id ?: run {&#10;            Toast.makeText(this, &quot;Unable to add review for this restaurant&quot;, Toast.LENGTH_SHORT).show()&#10;            return&#10;        }&#10;&#10;        // Check if user already has a review for this restaurant&#10;        val existingReview = databaseHelper.getUserReviewForRestaurant(currentUser, restaurantId)&#10;&#10;        val dialogView = layoutInflater.inflate(R.layout.dialog_add_review, null)&#10;        val ratingBar: RatingBar = dialogView.findViewById(R.id.dialogRatingBar)&#10;        val commentEditText: EditText = dialogView.findViewById(R.id.commentEditText)&#10;&#10;        // Pre-fill with existing review if available&#10;        existingReview?.let { review -&gt;&#10;            ratingBar.rating = review.rating&#10;            commentEditText.setText(review.comment)&#10;        }&#10;&#10;        val dialog = AlertDialog.Builder(this)&#10;            .setView(dialogView)&#10;            .setPositiveButton(if (existingReview != null) &quot;Update&quot; else &quot;Submit&quot;) { _, _ -&gt;&#10;                val rating = ratingBar.rating&#10;                val comment = commentEditText.text.toString().trim()&#10;&#10;                if (rating == 0f) {&#10;                    Toast.makeText(this, &quot;Please provide a rating&quot;, Toast.LENGTH_SHORT).show()&#10;                    return@setPositiveButton&#10;                }&#10;&#10;                val review = Review(&#10;                    userId = currentUser,&#10;                    restaurantId = restaurantId,&#10;                    rating = rating,&#10;                    comment = comment&#10;                )&#10;&#10;                if (databaseHelper.insertOrUpdateReview(review)) {&#10;                    Toast.makeText(this,&#10;                        if (existingReview != null) &quot;Review updated successfully&quot; else &quot;Review added successfully&quot;,&#10;                        Toast.LENGTH_SHORT).show()&#10;                    loadReviews() // Refresh the reviews list&#10;&#10;                    // Reload restaurant data to get updated rating&#10;                    currentRestaurant = databaseHelper.getRestaurantByName(restaurant.name)&#10;&#10;                    // Set result to notify calling activity to refresh&#10;                    setResult(RESULT_OK)&#10;                } else {&#10;                    Toast.makeText(this, &quot;Failed to save review&quot;, Toast.LENGTH_SHORT).show()&#10;                }&#10;            }&#10;            .setNegativeButton(&quot;Cancel&quot;, null)&#10;&#10;        // Add delete option if review exists&#10;        if (existingReview != null) {&#10;            dialog.setNeutralButton(&quot;Delete&quot;) { _, _ -&gt;&#10;                if (databaseHelper.deleteReview(currentUser, restaurantId)) {&#10;                    Toast.makeText(this, &quot;Review deleted successfully&quot;, Toast.LENGTH_SHORT).show()&#10;                    loadReviews() // Refresh the reviews list&#10;&#10;                    // Reload restaurant data to get updated rating&#10;                    currentRestaurant = databaseHelper.getRestaurantByName(restaurant.name)&#10;&#10;                    // Set result to notify calling activity to refresh&#10;                    setResult(RESULT_OK)&#10;                } else {&#10;                    Toast.makeText(this, &quot;Failed to delete review&quot;, Toast.LENGTH_SHORT).show()&#10;                }&#10;            }&#10;        }&#10;&#10;        dialog.create().show()&#10;    }&#10;    &#10;    // Open video picker&#10;    private fun openVideoPicker() {&#10;        val intent = Intent(Intent.ACTION_OPEN_DOCUMENT)&#10;        intent.addCategory(Intent.CATEGORY_OPENABLE)&#10;        intent.type = &quot;video/*&quot;&#10;        startActivityForResult(intent, REQUEST_VIDEO)&#10;    }&#10;    &#10;    // Open image picker&#10;    private fun openImagePicker(requestCode: Int) {&#10;        val intent = Intent(Intent.ACTION_OPEN_DOCUMENT)&#10;        intent.addCategory(Intent.CATEGORY_OPENABLE)&#10;        intent.type = &quot;image/*&quot;&#10;        startActivityForResult(intent, requestCode)&#10;    }&#10;    &#10;    // Handle media selection results&#10;    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {&#10;        super.onActivityResult(requestCode, resultCode, data)&#10;        &#10;        if (resultCode == RESULT_OK &amp;&amp; data != null) {&#10;            val selectedUri: Uri? = data.data&#10;            val restaurant = currentRestaurant ?: return&#10;            val restaurantId = restaurant.id ?: return&#10;            &#10;            selectedUri?.let { uri -&gt;&#10;                // Request persistent permission for the URI&#10;                try {&#10;                    contentResolver.takePersistableUriPermission(&#10;                        uri,&#10;                        Intent.FLAG_GRANT_READ_URI_PERMISSION&#10;                    )&#10;                } catch (e: Exception) {&#10;                    e.printStackTrace()&#10;                }&#10;                &#10;                when (requestCode) {&#10;                    REQUEST_VIDEO -&gt; {&#10;                        videoView.setVideoURI(uri)&#10;                        videoView.setOnPreparedListener { mp -&gt;&#10;                            mp.isLooping = true&#10;                        }&#10;                        videoView.start()&#10;                        &#10;                        // Save to database&#10;                        val success = databaseHelper.updateRestaurantMedia(&#10;                            restaurantId,&#10;                            uri.toString(),&#10;                            restaurant.image1Uri,&#10;                            restaurant.image2Uri&#10;                        )&#10;                        &#10;                        if (success) {&#10;                            currentRestaurant = databaseHelper.getRestaurantByName(restaurant.name)&#10;                            Toast.makeText(this, &quot;Video saved successfully&quot;, Toast.LENGTH_SHORT).show()&#10;                        } else {&#10;                            Toast.makeText(this, &quot;Failed to save video&quot;, Toast.LENGTH_SHORT).show()&#10;                        }&#10;                    }&#10;                    REQUEST_IMAGE_1 -&gt; {&#10;                        imageView1.setImageURI(uri)&#10;                        &#10;                        // Save to database&#10;                        val success = databaseHelper.updateRestaurantMedia(&#10;                            restaurantId,&#10;                            restaurant.videoUri,&#10;                            uri.toString(),&#10;                            restaurant.image2Uri&#10;                        )&#10;                        &#10;                        if (success) {&#10;                            currentRestaurant = databaseHelper.getRestaurantByName(restaurant.name)&#10;                            Toast.makeText(this, &quot;Image 1 saved successfully&quot;, Toast.LENGTH_SHORT).show()&#10;                        } else {&#10;                            Toast.makeText(this, &quot;Failed to save image 1&quot;, Toast.LENGTH_SHORT).show()&#10;                        }&#10;                    }&#10;                    REQUEST_IMAGE_2 -&gt; {&#10;                        imageView2.setImageURI(uri)&#10;                        &#10;                        // Save to database&#10;                        val success = databaseHelper.updateRestaurantMedia(&#10;                            restaurantId,&#10;                            restaurant.videoUri,&#10;                            restaurant.image1Uri,&#10;                            uri.toString()&#10;                        )&#10;                        &#10;                        if (success) {&#10;                            currentRestaurant = databaseHelper.getRestaurantByName(restaurant.name)&#10;                            Toast.makeText(this, &quot;Image 2 saved successfully&quot;, Toast.LENGTH_SHORT).show()&#10;                        } else {&#10;                            Toast.makeText(this, &quot;Failed to save image 2&quot;, Toast.LENGTH_SHORT).show()&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;    &#10;    // Check and request media permissions&#10;    private fun checkMediaPermissions() {&#10;        val permissions = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {&#10;            arrayOf(&#10;                android.Manifest.permission.READ_MEDIA_VIDEO,&#10;                android.Manifest.permission.READ_MEDIA_IMAGES&#10;            )&#10;        } else {&#10;            arrayOf(&#10;                android.Manifest.permission.READ_EXTERNAL_STORAGE&#10;            )&#10;        }&#10;        &#10;        val permissionsToRequest = permissions.filter {&#10;            ContextCompat.checkSelfPermission(this, it) != PackageManager.PERMISSION_GRANTED&#10;        }&#10;        &#10;        if (permissionsToRequest.isNotEmpty()) {&#10;            ActivityCompat.requestPermissions(this, permissionsToRequest.toTypedArray(), REQUEST_PERMISSIONS)&#10;        }&#10;    }&#10;    &#10;    override fun onRequestPermissionsResult(&#10;        requestCode: Int,&#10;        permissions: Array&lt;out String&gt;,&#10;        grantResults: IntArray&#10;    ) {&#10;        super.onRequestPermissionsResult(requestCode, permissions, grantResults)&#10;        if (requestCode == REQUEST_PERMISSIONS) {&#10;            if (grantResults.all { it == PackageManager.PERMISSION_GRANTED }) {&#10;                Toast.makeText(this, &quot;Permissions granted&quot;, Toast.LENGTH_SHORT).show()&#10;            } else {&#10;                Toast.makeText(this, &quot;Some permissions were denied. Media features may not work.&quot;, Toast.LENGTH_LONG).show()&#10;            }&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/test/project/database/DatabaseHelper.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/test/project/database/DatabaseHelper.kt" />
              <option name="originalContent" value="package com.test.project.database&#10;&#10;import android.content.Context&#10;import android.database.sqlite.SQLiteDatabase&#10;import android.database.sqlite.SQLiteOpenHelper&#10;&#10;import org.mindrot.jbcrypt.BCrypt&#10;&#10;class DatabaseHelper(&#10;    context: Context,&#10;) : SQLiteOpenHelper(&#10;    context,&#10;    &quot;project.db&quot;,&#10;    null,&#10;    6&#10;) {&#10;    override fun onCreate(db: SQLiteDatabase?) {&#10;        // Create Users table&#10;        db?.execSQL(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS users (&#10;                id INTEGER PRIMARY KEY AUTOINCREMENT,&#10;                name TEXT NOT NULL,&#10;                email TEXT NOT NULL UNIQUE,&#10;                passwordHash TEXT NOT NULL,&#10;                salt TEXT NOT NULL&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        // Create Restaurants table&#10;        db?.execSQL(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS restaurants (&#10;                id INTEGER PRIMARY KEY AUTOINCREMENT,&#10;                name TEXT NOT NULL,&#10;                address TEXT NOT NULL,&#10;                phoneNumber TEXT NOT NULL,&#10;                description TEXT,&#10;                shortDescription TEXT,&#10;                rating REAL&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        // Create Dishes table&#10;        db?.execSQL(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS dishes (&#10;                id INTEGER PRIMARY KEY AUTOINCREMENT,&#10;                name TEXT NOT NULL,&#10;                description TEXT NOT NULL,&#10;                price REAL NOT NULL,&#10;                imageUrl TEXT&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        // Create Orders table&#10;        db?.execSQL(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS orders (&#10;                orderId INTEGER PRIMARY KEY AUTOINCREMENT,&#10;                userId INTEGER NOT NULL,&#10;                restaurantId INTEGER NOT NULL,&#10;                FOREIGN KEY (userId) REFERENCES users(id) ON UPDATE CASCADE ON DELETE CASCADE,&#10;                FOREIGN KEY (restaurantId) REFERENCES restaurants(id) ON UPDATE CASCADE ON DELETE CASCADE&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        // Create OrderElements table&#10;        db?.execSQL(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS order_elements (&#10;                orderId INTEGER NOT NULL,&#10;                dishId INTEGER NOT NULL,&#10;                PRIMARY KEY (orderId, dishId),&#10;                FOREIGN KEY (orderId) REFERENCES orders(orderId) ON UPDATE CASCADE ON DELETE CASCADE,&#10;                FOREIGN KEY (dishId) REFERENCES dishes(id) ON UPDATE CASCADE ON DELETE CASCADE&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        // Create Reviews table&#10;        db?.execSQL(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS reviews (&#10;                userId INTEGER NOT NULL,&#10;                restaurantId INTEGER NOT NULL,&#10;                rating REAL NOT NULL,&#10;                comment TEXT,&#10;                PRIMARY KEY (userId, restaurantId),&#10;                FOREIGN KEY (userId) REFERENCES users(id) ON UPDATE CASCADE ON DELETE CASCADE,&#10;                FOREIGN KEY (restaurantId) REFERENCES restaurants(id) ON UPDATE CASCADE ON DELETE CASCADE&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        // Create Menu Elements table&#10;        db?.execSQL(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS menu_elements (&#10;                restaurantId INTEGER NOT NULL,&#10;                dishId INTEGER NOT NULL,&#10;                PRIMARY KEY (restaurantId, dishId),&#10;                FOREIGN KEY (restaurantId) REFERENCES restaurants(id) ON UPDATE CASCADE ON DELETE CASCADE,&#10;                FOREIGN KEY (dishId) REFERENCES dishes(id) ON UPDATE CASCADE ON DELETE CASCADE&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        // insert premade data&#10;        insertPremadeUsers(db)&#10;        insertPremadeRestaurants(db)&#10;        insertPremadeDishes(db)&#10;        insertPremadeReviews(db)&#10;    }&#10;&#10;    override fun onUpgrade(db: SQLiteDatabase?, oldVersion: Int, newVersion: Int) {&#10;        insertPremadeRestaurants(db)&#10;        // For major version changes, drop and recreate&#10;        db?.execSQL(&quot;DROP TABLE IF EXISTS menu_elements&quot;)&#10;        db?.execSQL(&quot;DROP TABLE IF EXISTS reviews&quot;)&#10;        db?.execSQL(&quot;DROP TABLE IF EXISTS order_elements&quot;)&#10;        db?.execSQL(&quot;DROP TABLE IF EXISTS orders&quot;)&#10;        db?.execSQL(&quot;DROP TABLE IF EXISTS dishes&quot;)&#10;        db?.execSQL(&quot;DROP TABLE IF EXISTS restaurants&quot;)&#10;        db?.execSQL(&quot;DROP TABLE IF EXISTS users&quot;)&#10;        onCreate(db)&#10;&#10;        insertPremadeRestaurants(db)&#10;    }&#10;&#10;&#10;    // example dishes&#10;    private  fun insertPremadeDishes(db: SQLiteDatabase?) {&#10;        val dishes = listOf(&#10;            Dish(&#10;                name = &quot;Margherita Pizza&quot;,&#10;                description = &quot;Classic pizza with tomato sauce, mozzarella cheese, and fresh basil&quot;,&#10;                price = 12.50&#10;            ),&#10;            Dish(&#10;                name = &quot;Spaghetti Carbonara&quot;,&#10;                description = &quot;Traditional Italian pasta with eggs, cheese, pancetta, and black pepper&quot;,&#10;                price = 14.00&#10;            ),&#10;            Dish(&#10;                name = &quot;Caesar Salad&quot;,&#10;                description = &quot;Fresh romaine lettuce, parmesan cheese, croutons with caesar dressing&quot;,&#10;                price = 9.50&#10;            ),&#10;            Dish(&#10;                name = &quot;Grilled Salmon&quot;,&#10;                description = &quot;Fresh salmon fillet grilled to perfection with lemon and herbs&quot;,&#10;                price = 18.00&#10;            ),&#10;            Dish(&#10;                name = &quot;Tiramisu&quot;,&#10;                description = &quot;Classic Italian dessert with coffee-soaked ladyfingers and mascarpone&quot;,&#10;                price = 6.50&#10;            ),&#10;            Dish(&#10;                name = &quot;Bruschetta&quot;,&#10;                description = &quot;Grilled bread topped with fresh tomatoes, garlic, and basil&quot;,&#10;                price = 7.00&#10;            ),&#10;            Dish(&#10;                name = &quot;Risotto ai Funghi&quot;,&#10;                description = &quot;Creamy rice dish with mixed mushrooms and parmesan cheese&quot;,&#10;                price = 15.50&#10;            ),&#10;            Dish(&#10;                name = &quot;Gelato&quot;,&#10;                description = &quot;Italian ice cream available in various flavors&quot;,&#10;                price = 4.50&#10;            )&#10;        )&#10;&#10;        dishes.forEach { dish -&gt;&#10;            db?.insert(&quot;dishes&quot;, null, dish.toContentValues())&#10;        }&#10;&#10;        // link dishes to restaurants in menu_elements table&#10;        val menuElements = listOf(&#10;            Pair(1, 1), // Spaghetti Carbonara to Symposium Cafe&#10;            Pair(1, 2), // Margherita Pizza to Symposium Cafe&#10;            Pair(2, 3),  // Caesar Salad to The Keg Oshawa&#10;            Pair(3, 4), // Grilled Salmon to Fazio's Italian Restaurant&#10;            Pair(3, 5), // Tiramisu to Fazio's Italian Restaurant&#10;            Pair(4, 6), // Bruschetta to Sushi Masa Japanese Restaurant&#10;            Pair(5, 7), // Risotto ai Funghi to Oshawa House Restaurant&#10;            Pair(5, 8)  // Gelato to Oshawa House Restaurant&#10;        )&#10;&#10;        menuElements.forEach { (restaurantId, dishId) -&gt;&#10;            val contentValues = android.content.ContentValues().apply {&#10;                put(&quot;restaurantId&quot;, restaurantId)&#10;                put(&quot;dishId&quot;, dishId)&#10;            }&#10;            db?.insert(&quot;menu_elements&quot;, null, contentValues)&#10;        }&#10;    }&#10;&#10;    // example restaurants&#10;    private fun insertPremadeRestaurants(db: SQLiteDatabase?) {&#10;        val restaurants = listOf(&#10;            Restaurant(&#10;                name = &quot;Symposium Cafe Restaurant &amp; Lounge&quot;,&#10;                description = &quot;A vibrant restaurant and lounge offering contemporary Canadian cuisine with international influences. Known for their extensive menu featuring everything from pasta and steaks to fresh salads and creative desserts. The atmosphere is warm and welcoming, perfect for both casual dining and special occasions.&quot;,&#10;                shortDescription = &quot;Contemporary Canadian cuisine&quot;,&#10;                rating = 0f,&#10;                address = &quot;1300 King St E, Oshawa, ON L1H 8J4&quot;,&#10;                phoneNumber = &quot;(905) 436-3354&quot;&#10;            ),&#10;            Restaurant(&#10;                name = &quot;The Keg Oshawa&quot;,&#10;                description = &quot;A classic steakhouse chain known for their premium steaks, fresh seafood, and signature caesar salads. The Keg offers a sophisticated dining experience with their dark wood decor and comfortable atmosphere. Their menu features AAA grade steaks, lobster, and an extensive wine selection.&quot;,&#10;                shortDescription = &quot;Premium steakhouse&quot;,&#10;                rating = 0f, // Will be calculated from reviews&#10;                address = &quot;1200 Thornton Rd N, Oshawa, ON L1H 7K4&quot;,&#10;                phoneNumber = &quot;(905) 433-3700&quot;&#10;            ),&#10;            Restaurant(&#10;                name = &quot;Fazio's Italian Restaurant&quot;,&#10;                description = &quot;Family-owned authentic Italian restaurant serving traditional recipes passed down through generations. Features homemade pasta, wood-fired pizza, and classic Italian entrees. The cozy atmosphere and friendly service make it feel like dining at an Italian family's home.&quot;,&#10;                shortDescription = &quot;Authentic Italian family dining&quot;,&#10;                rating = 0f, // Will be calculated from reviews&#10;                address = &quot;1668 Simcoe St N, Oshawa, ON L1G 4X6&quot;,&#10;                phoneNumber = &quot;(905) 436-3287&quot;&#10;            ),&#10;            Restaurant(&#10;                name = &quot;Sushi Masa Japanese Restaurant&quot;,&#10;                description = &quot;Fresh and authentic Japanese cuisine featuring expertly crafted sushi, sashimi, and traditional Japanese dishes. The chef uses only the finest ingredients to create beautiful presentations. The minimalist decor creates a peaceful dining environment perfect for enjoying the artistry of Japanese cuisine.&quot;,&#10;                shortDescription = &quot;Fresh authentic Japanese sushi&quot;,&#10;                rating = 0f, // Will be calculated from reviews&#10;                address = &quot;1300 King St E Unit 3, Oshawa, ON L1H 8J4&quot;,&#10;                phoneNumber = &quot;(905) 240-0888&quot;&#10;            ),&#10;            Restaurant(&#10;                name = &quot;Oshawa House Restaurant&quot;,&#10;                description = &quot;A local landmark serving comfort food and traditional favorites for over 30 years. Known for their generous portions, friendly service, and classic diner atmosphere. Popular for breakfast all day, hearty burgers, and homestyle dinners that remind you of home cooking.&quot;,&#10;                shortDescription = &quot;Classic comfort food diner&quot;,&#10;                rating = 0f, // Will be calculated from reviews&#10;                address = &quot;1425 King St E, Oshawa, ON L1H 8J6&quot;,&#10;                phoneNumber = &quot;(905) 579-4449&quot;&#10;            )&#10;        )&#10;&#10;        restaurants.forEach { restaurant -&gt;&#10;            db?.insert(&quot;restaurants&quot;, null, restaurant.toContentValues())&#10;        }&#10;    }&#10;&#10;    // insert premade users&#10;    private fun insertPremadeUsers(db: SQLiteDatabase?) {&#10;        if (db == null) return&#10;        &#10;        // Insert users directly during database creation to avoid recursion&#10;        val users = listOf(&#10;            Triple(&quot;Edoardo&quot;, &quot;edoardo.borlina@gmail.com&quot;, &quot;password&quot;),&#10;            Triple(&quot;Bralyn&quot;, &quot;bralynlp@gmail.com&quot;, &quot;password123&quot;),&#10;            Triple(&quot;User&quot;, &quot;user.example@email.com&quot;, &quot;password&quot;)&#10;        )&#10;        &#10;        users.forEach { (name, email, password) -&gt;&#10;            val salt = BCrypt.gensalt()&#10;            val passwordHash = BCrypt.hashpw(password, salt)&#10;            &#10;            val values = android.content.ContentValues().apply {&#10;                put(&quot;name&quot;, name)&#10;                put(&quot;email&quot;, email)&#10;                put(&quot;passwordHash&quot;, passwordHash)&#10;                put(&quot;salt&quot;, salt)&#10;            }&#10;            &#10;            db.insert(&quot;users&quot;, null, values)&#10;        }&#10;    }&#10;&#10;    // insert premade reviews&#10;    private fun insertPremadeReviews(db: SQLiteDatabase?) {&#10;        if (db == null) return&#10;&#10;        // Example reviews from different users&#10;        val reviews = listOf(&#10;            // Reviews for Symposium Cafe (restaurantId = 1)&#10;            Review(userId = 1, restaurantId = 1, rating = 4.0f, comment = &quot;Great atmosphere and delicious food!&quot;),&#10;            Review(userId = 2, restaurantId = 1, rating = 4.5f, comment = &quot;Love their desserts, highly recommended!&quot;),&#10;&#10;            // Reviews for The Keg Oshawa (restaurantId = 2)&#10;            Review(userId = 1, restaurantId = 2, rating = 5.0f, comment = &quot;Best steaks in town! Perfect cooking every time.&quot;),&#10;            Review(userId = 3, restaurantId = 2, rating = 4.0f, comment = &quot;Excellent service and quality meat.&quot;),&#10;&#10;            // Reviews for Fazio's Italian Restaurant (restaurantId = 3)&#10;            Review(userId = 2, restaurantId = 3, rating = 4.5f, comment = &quot;Authentic Italian cuisine, feels like home!&quot;),&#10;            Review(userId = 3, restaurantId = 3, rating = 5.0f, comment = &quot;The pasta is amazing, family-friendly atmosphere.&quot;),&#10;&#10;            // Reviews for Sushi Masa (restaurantId = 4)&#10;            Review(userId = 1, restaurantId = 4, rating = 4.5f, comment = &quot;Fresh sushi, beautiful presentation!&quot;),&#10;            Review(userId = 2, restaurantId = 4, rating = 4.0f, comment = &quot;Good quality fish, nice ambiance.&quot;),&#10;&#10;            // Reviews for Oshawa House Restaurant (restaurantId = 5)&#10;            Review(userId = 3, restaurantId = 5, rating = 4.0f, comment = &quot;Classic diner with great comfort food!&quot;)&#10;        )&#10;&#10;        reviews.forEach { review -&gt;&#10;            db.insert(&quot;reviews&quot;, null, review.toContentValues())&#10;        }&#10;&#10;        // Update restaurant ratings based on these reviews&#10;        for (restaurantId in 1..5) {&#10;            val avgRating = calculateAverageRatingFromDb(db, restaurantId)&#10;            val contentValues = android.content.ContentValues().apply {&#10;                put(&quot;rating&quot;, avgRating)&#10;            }&#10;            db.update(&quot;restaurants&quot;, contentValues, &quot;id = ?&quot;, arrayOf(restaurantId.toString()))&#10;        }&#10;    }&#10;&#10;    // Helper method to calculate average rating during onCreate (when db is being created)&#10;    private fun calculateAverageRatingFromDb(db: SQLiteDatabase, restaurantId: Int): Float {&#10;        val cursor = db.rawQuery(&#10;            &quot;SELECT AVG(rating) as avgRating FROM reviews WHERE restaurantId = ?&quot;,&#10;            arrayOf(restaurantId.toString())&#10;        )&#10;&#10;        var avgRating = 0f&#10;        if (cursor.moveToFirst()) {&#10;            val columnIndex = cursor.getColumnIndex(&quot;avgRating&quot;)&#10;            if (columnIndex != -1 &amp;&amp; !cursor.isNull(columnIndex)) {&#10;                avgRating = cursor.getFloat(columnIndex)&#10;            }&#10;        }&#10;        cursor.close()&#10;&#10;        return avgRating&#10;    }&#10;    /// Restaurants Table Methods&#10;&#10;    // Get all restaurants&#10;    fun getAllRestaurants(): List&lt;Restaurant&gt; {&#10;        val restaurants = mutableListOf&lt;Restaurant&gt;()&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&quot;SELECT * FROM restaurants&quot;, null)&#10;        while (cursor.moveToNext()) {&#10;            val restaurant: Restaurant = Restaurant.getFromCursor(cursor)&#10;            restaurants.add(restaurant)&#10;        }&#10;        cursor.close()&#10;        return restaurants&#10;    }&#10;&#10;    // insert a restaurant&#10;    fun insertRestaurant(restaurant: Restaurant){&#10;        val db = writableDatabase&#10;        db.insert(&quot;restaurants&quot;, null, restaurant.toContentValues())&#10;    }&#10;&#10;&#10;    // Menu and Menu elements Methods&#10;    // Get menu for a restaurant given the name&#10;    fun getMenuForRestaurant(restaurantName: String): List&lt;Dish&gt; {&#10;        val dishes = mutableListOf&lt;Dish&gt;()&#10;        val db = readableDatabase&#10;        val query = &quot;&quot;&quot;&#10;            SELECT d.* FROM dishes d&#10;            JOIN menu_elements me ON d.id = me.dishId&#10;            JOIN restaurants r ON me.restaurantId = r.id&#10;            WHERE r.name = ?&#10;        &quot;&quot;&quot;&#10;        val cursor = db.rawQuery(query, arrayOf(restaurantName))&#10;        while (cursor.moveToNext()) {&#10;            val dish: Dish = Dish.getFromCursor(cursor)&#10;            dishes.add(dish)&#10;        }&#10;        cursor.close()&#10;        return dishes&#10;    }&#10;&#10;    // User Table Methods&#10;&#10;    // retrieve user by email&#10;    fun getUserByEmail(email: String): User? {&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&quot;SELECT * FROM users WHERE email = ?&quot;, arrayOf(email))&#10;        var user: User? = null&#10;        if (cursor.moveToFirst()) {&#10;            user = User.getFromCursor(cursor)&#10;        }&#10;        cursor.close()&#10;        return user&#10;    }&#10;&#10;    // register user&#10;    fun registerUser(name: String, email: String, password: String): Boolean {&#10;        val db = writableDatabase&#10;&#10;        // check if user already exists&#10;        val existingUser = getUserByEmail(email)&#10;        if (existingUser != null) {&#10;            return false&#10;        }&#10;&#10;&#10;        val salt = BCrypt.gensalt()&#10;        val passwordHash = BCrypt.hashpw(password, salt)&#10;&#10;        val user = User(&#10;            name = name,&#10;            email = email,&#10;            passwordHash = passwordHash,&#10;            salt = salt&#10;        )&#10;&#10;        val result = db.insert(&quot;users&quot;, null, user.toContentValues())&#10;        return result != -1L&#10;    }&#10;&#10;    // autenticate user&#10;    fun authenticateUser(email: String, password: String): User? {&#10;        val user = getUserByEmail(email) ?: return null&#10;&#10;        return if (BCrypt.checkpw(password, user.passwordHash)) {&#10;            user&#10;        } else {&#10;            null&#10;        }&#10;    }&#10;&#10;    // Review Methods&#10;&#10;    // Get all reviews for a restaurant&#10;    fun getReviewsForRestaurant(restaurantId: Int): List&lt;Review&gt; {&#10;        val reviews = mutableListOf&lt;Review&gt;()&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&quot;SELECT * FROM reviews WHERE restaurantId = ?&quot;, arrayOf(restaurantId.toString()))&#10;        while (cursor.moveToNext()) {&#10;            val review: Review = Review.getFromCursor(cursor)&#10;            reviews.add(review)&#10;        }&#10;        cursor.close()&#10;        return reviews&#10;    }&#10;&#10;    // Get review by user and restaurant (since user can only have one review per restaurant)&#10;    fun getUserReviewForRestaurant(userId: Int, restaurantId: Int): Review? {&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&quot;SELECT * FROM reviews WHERE userId = ? AND restaurantId = ?&quot;,&#10;            arrayOf(userId.toString(), restaurantId.toString()))&#10;        var review: Review? = null&#10;        if (cursor.moveToFirst()) {&#10;            review = Review.getFromCursor(cursor)&#10;        }&#10;        cursor.close()&#10;        return review&#10;    }&#10;&#10;    // Insert or update a review (since user can only have one review per restaurant)&#10;    fun insertOrUpdateReview(review: Review): Boolean {&#10;        val db = writableDatabase&#10;        val result = db.insertWithOnConflict(&quot;reviews&quot;, null, review.toContentValues(),&#10;            android.database.sqlite.SQLiteDatabase.CONFLICT_REPLACE)&#10;&#10;        // Update restaurant rating after insertion/update&#10;        if (result != -1L) {&#10;            updateRestaurantRating(review.restaurantId)&#10;        }&#10;&#10;        return result != -1L&#10;    }&#10;&#10;    // Delete a review&#10;    fun deleteReview(userId: Int, restaurantId: Int): Boolean {&#10;        val db = writableDatabase&#10;        val result = db.delete(&quot;reviews&quot;, &quot;userId = ? AND restaurantId = ?&quot;,&#10;            arrayOf(userId.toString(), restaurantId.toString()))&#10;&#10;        // Update restaurant rating after deletion&#10;        if (result &gt; 0) {&#10;            updateRestaurantRating(restaurantId)&#10;        }&#10;&#10;        return result &gt; 0&#10;    }&#10;&#10;    // Calculate average rating for a restaurant&#10;    fun calculateAverageRating(restaurantId: Int): Float {&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&#10;            &quot;SELECT AVG(rating) as avgRating FROM reviews WHERE restaurantId = ?&quot;,&#10;            arrayOf(restaurantId.toString())&#10;        )&#10;&#10;        var avgRating = 0f&#10;        if (cursor.moveToFirst()) {&#10;            val columnIndex = cursor.getColumnIndex(&quot;avgRating&quot;)&#10;            if (columnIndex != -1 &amp;&amp; !cursor.isNull(columnIndex)) {&#10;                avgRating = cursor.getFloat(columnIndex)&#10;            }&#10;        }&#10;        cursor.close()&#10;&#10;        return avgRating&#10;    }&#10;&#10;    // Update restaurant rating based on reviews&#10;    fun updateRestaurantRating(restaurantId: Int) {&#10;        val db = writableDatabase&#10;        val avgRating = calculateAverageRating(restaurantId)&#10;&#10;        val contentValues = android.content.ContentValues().apply {&#10;            put(&quot;rating&quot;, avgRating)&#10;        }&#10;&#10;        db.update(&quot;restaurants&quot;, contentValues, &quot;id = ?&quot;, arrayOf(restaurantId.toString()))&#10;    }&#10;&#10;    // Get restaurant by ID&#10;    fun getRestaurantById(restaurantId: Int): Restaurant? {&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&quot;SELECT * FROM restaurants WHERE id = ?&quot;, arrayOf(restaurantId.toString()))&#10;        var restaurant: Restaurant? = null&#10;        if (cursor.moveToFirst()) {&#10;            restaurant = Restaurant.getFromCursor(cursor)&#10;        }&#10;        cursor.close()&#10;        return restaurant&#10;    }&#10;&#10;    // Get restaurant by name&#10;    fun getRestaurantByName(restaurantName: String): Restaurant? {&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&quot;SELECT * FROM restaurants WHERE name = ?&quot;, arrayOf(restaurantName))&#10;        var restaurant: Restaurant? = null&#10;        if (cursor.moveToFirst()) {&#10;            restaurant = Restaurant.getFromCursor(cursor)&#10;        }&#10;        cursor.close()&#10;        return restaurant&#10;    }&#10;&#10;    // Get user name by ID&#10;    fun getUserNameById(userId: Int): String? {&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&quot;SELECT name FROM users WHERE id = ?&quot;, arrayOf(userId.toString()))&#10;        var userName: String? = null&#10;        if (cursor.moveToFirst()) {&#10;            userName = cursor.getString(cursor.getColumnIndexOrThrow(&quot;name&quot;))&#10;        }&#10;        cursor.close()&#10;        return userName&#10;    }&#10;&#10;&#10;}&#10;&#10;&#10;" />
              <option name="updatedContent" value="package com.test.project.database&#10;&#10;import android.content.Context&#10;import android.database.sqlite.SQLiteDatabase&#10;import android.database.sqlite.SQLiteOpenHelper&#10;&#10;import org.mindrot.jbcrypt.BCrypt&#10;&#10;class DatabaseHelper(&#10;    context: Context,&#10;) : SQLiteOpenHelper(&#10;    context,&#10;    &quot;project.db&quot;,&#10;    null,&#10;    7&#10;) {&#10;    override fun onCreate(db: SQLiteDatabase?) {&#10;        // Create Users table&#10;        db?.execSQL(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS users (&#10;                id INTEGER PRIMARY KEY AUTOINCREMENT,&#10;                name TEXT NOT NULL,&#10;                email TEXT NOT NULL UNIQUE,&#10;                passwordHash TEXT NOT NULL,&#10;                salt TEXT NOT NULL&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        // Create Restaurants table&#10;        db?.execSQL(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS restaurants (&#10;                id INTEGER PRIMARY KEY AUTOINCREMENT,&#10;                name TEXT NOT NULL,&#10;                address TEXT NOT NULL,&#10;                phoneNumber TEXT NOT NULL,&#10;                description TEXT,&#10;                shortDescription TEXT,&#10;                rating REAL,&#10;                videoUri TEXT,&#10;                image1Uri TEXT,&#10;                image2Uri TEXT&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        // Create Dishes table&#10;        db?.execSQL(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS dishes (&#10;                id INTEGER PRIMARY KEY AUTOINCREMENT,&#10;                name TEXT NOT NULL,&#10;                description TEXT NOT NULL,&#10;                price REAL NOT NULL,&#10;                imageUrl TEXT&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        // Create Orders table&#10;        db?.execSQL(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS orders (&#10;                orderId INTEGER PRIMARY KEY AUTOINCREMENT,&#10;                userId INTEGER NOT NULL,&#10;                restaurantId INTEGER NOT NULL,&#10;                FOREIGN KEY (userId) REFERENCES users(id) ON UPDATE CASCADE ON DELETE CASCADE,&#10;                FOREIGN KEY (restaurantId) REFERENCES restaurants(id) ON UPDATE CASCADE ON DELETE CASCADE&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        // Create OrderElements table&#10;        db?.execSQL(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS order_elements (&#10;                orderId INTEGER NOT NULL,&#10;                dishId INTEGER NOT NULL,&#10;                PRIMARY KEY (orderId, dishId),&#10;                FOREIGN KEY (orderId) REFERENCES orders(orderId) ON UPDATE CASCADE ON DELETE CASCADE,&#10;                FOREIGN KEY (dishId) REFERENCES dishes(id) ON UPDATE CASCADE ON DELETE CASCADE&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        // Create Reviews table&#10;        db?.execSQL(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS reviews (&#10;                userId INTEGER NOT NULL,&#10;                restaurantId INTEGER NOT NULL,&#10;                rating REAL NOT NULL,&#10;                comment TEXT,&#10;                PRIMARY KEY (userId, restaurantId),&#10;                FOREIGN KEY (userId) REFERENCES users(id) ON UPDATE CASCADE ON DELETE CASCADE,&#10;                FOREIGN KEY (restaurantId) REFERENCES restaurants(id) ON UPDATE CASCADE ON DELETE CASCADE&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        // Create Menu Elements table&#10;        db?.execSQL(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS menu_elements (&#10;                restaurantId INTEGER NOT NULL,&#10;                dishId INTEGER NOT NULL,&#10;                PRIMARY KEY (restaurantId, dishId),&#10;                FOREIGN KEY (restaurantId) REFERENCES restaurants(id) ON UPDATE CASCADE ON DELETE CASCADE,&#10;                FOREIGN KEY (dishId) REFERENCES dishes(id) ON UPDATE CASCADE ON DELETE CASCADE&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        // insert premade data&#10;        insertPremadeUsers(db)&#10;        insertPremadeRestaurants(db)&#10;        insertPremadeDishes(db)&#10;        insertPremadeReviews(db)&#10;    }&#10;&#10;    override fun onUpgrade(db: SQLiteDatabase?, oldVersion: Int, newVersion: Int) {&#10;        insertPremadeRestaurants(db)&#10;        // For major version changes, drop and recreate&#10;        db?.execSQL(&quot;DROP TABLE IF EXISTS menu_elements&quot;)&#10;        db?.execSQL(&quot;DROP TABLE IF EXISTS reviews&quot;)&#10;        db?.execSQL(&quot;DROP TABLE IF EXISTS order_elements&quot;)&#10;        db?.execSQL(&quot;DROP TABLE IF EXISTS orders&quot;)&#10;        db?.execSQL(&quot;DROP TABLE IF EXISTS dishes&quot;)&#10;        db?.execSQL(&quot;DROP TABLE IF EXISTS restaurants&quot;)&#10;        db?.execSQL(&quot;DROP TABLE IF EXISTS users&quot;)&#10;        onCreate(db)&#10;&#10;        insertPremadeRestaurants(db)&#10;    }&#10;&#10;&#10;    // example dishes&#10;    private  fun insertPremadeDishes(db: SQLiteDatabase?) {&#10;        val dishes = listOf(&#10;            Dish(&#10;                name = &quot;Margherita Pizza&quot;,&#10;                description = &quot;Classic pizza with tomato sauce, mozzarella cheese, and fresh basil&quot;,&#10;                price = 12.50&#10;            ),&#10;            Dish(&#10;                name = &quot;Spaghetti Carbonara&quot;,&#10;                description = &quot;Traditional Italian pasta with eggs, cheese, pancetta, and black pepper&quot;,&#10;                price = 14.00&#10;            ),&#10;            Dish(&#10;                name = &quot;Caesar Salad&quot;,&#10;                description = &quot;Fresh romaine lettuce, parmesan cheese, croutons with caesar dressing&quot;,&#10;                price = 9.50&#10;            ),&#10;            Dish(&#10;                name = &quot;Grilled Salmon&quot;,&#10;                description = &quot;Fresh salmon fillet grilled to perfection with lemon and herbs&quot;,&#10;                price = 18.00&#10;            ),&#10;            Dish(&#10;                name = &quot;Tiramisu&quot;,&#10;                description = &quot;Classic Italian dessert with coffee-soaked ladyfingers and mascarpone&quot;,&#10;                price = 6.50&#10;            ),&#10;            Dish(&#10;                name = &quot;Bruschetta&quot;,&#10;                description = &quot;Grilled bread topped with fresh tomatoes, garlic, and basil&quot;,&#10;                price = 7.00&#10;            ),&#10;            Dish(&#10;                name = &quot;Risotto ai Funghi&quot;,&#10;                description = &quot;Creamy rice dish with mixed mushrooms and parmesan cheese&quot;,&#10;                price = 15.50&#10;            ),&#10;            Dish(&#10;                name = &quot;Gelato&quot;,&#10;                description = &quot;Italian ice cream available in various flavors&quot;,&#10;                price = 4.50&#10;            )&#10;        )&#10;&#10;        dishes.forEach { dish -&gt;&#10;            db?.insert(&quot;dishes&quot;, null, dish.toContentValues())&#10;        }&#10;&#10;        // link dishes to restaurants in menu_elements table&#10;        val menuElements = listOf(&#10;            Pair(1, 1), // Spaghetti Carbonara to Symposium Cafe&#10;            Pair(1, 2), // Margherita Pizza to Symposium Cafe&#10;            Pair(2, 3),  // Caesar Salad to The Keg Oshawa&#10;            Pair(3, 4), // Grilled Salmon to Fazio's Italian Restaurant&#10;            Pair(3, 5), // Tiramisu to Fazio's Italian Restaurant&#10;            Pair(4, 6), // Bruschetta to Sushi Masa Japanese Restaurant&#10;            Pair(5, 7), // Risotto ai Funghi to Oshawa House Restaurant&#10;            Pair(5, 8)  // Gelato to Oshawa House Restaurant&#10;        )&#10;&#10;        menuElements.forEach { (restaurantId, dishId) -&gt;&#10;            val contentValues = android.content.ContentValues().apply {&#10;                put(&quot;restaurantId&quot;, restaurantId)&#10;                put(&quot;dishId&quot;, dishId)&#10;            }&#10;            db?.insert(&quot;menu_elements&quot;, null, contentValues)&#10;        }&#10;    }&#10;&#10;    // example restaurants&#10;    private fun insertPremadeRestaurants(db: SQLiteDatabase?) {&#10;        val restaurants = listOf(&#10;            Restaurant(&#10;                name = &quot;Symposium Cafe Restaurant &amp; Lounge&quot;,&#10;                description = &quot;A vibrant restaurant and lounge offering contemporary Canadian cuisine with international influences. Known for their extensive menu featuring everything from pasta and steaks to fresh salads and creative desserts. The atmosphere is warm and welcoming, perfect for both casual dining and special occasions.&quot;,&#10;                shortDescription = &quot;Contemporary Canadian cuisine&quot;,&#10;                rating = 0f,&#10;                address = &quot;1300 King St E, Oshawa, ON L1H 8J4&quot;,&#10;                phoneNumber = &quot;(905) 436-3354&quot;&#10;            ),&#10;            Restaurant(&#10;                name = &quot;The Keg Oshawa&quot;,&#10;                description = &quot;A classic steakhouse chain known for their premium steaks, fresh seafood, and signature caesar salads. The Keg offers a sophisticated dining experience with their dark wood decor and comfortable atmosphere. Their menu features AAA grade steaks, lobster, and an extensive wine selection.&quot;,&#10;                shortDescription = &quot;Premium steakhouse&quot;,&#10;                rating = 0f, // Will be calculated from reviews&#10;                address = &quot;1200 Thornton Rd N, Oshawa, ON L1H 7K4&quot;,&#10;                phoneNumber = &quot;(905) 433-3700&quot;&#10;            ),&#10;            Restaurant(&#10;                name = &quot;Fazio's Italian Restaurant&quot;,&#10;                description = &quot;Family-owned authentic Italian restaurant serving traditional recipes passed down through generations. Features homemade pasta, wood-fired pizza, and classic Italian entrees. The cozy atmosphere and friendly service make it feel like dining at an Italian family's home.&quot;,&#10;                shortDescription = &quot;Authentic Italian family dining&quot;,&#10;                rating = 0f, // Will be calculated from reviews&#10;                address = &quot;1668 Simcoe St N, Oshawa, ON L1G 4X6&quot;,&#10;                phoneNumber = &quot;(905) 436-3287&quot;&#10;            ),&#10;            Restaurant(&#10;                name = &quot;Sushi Masa Japanese Restaurant&quot;,&#10;                description = &quot;Fresh and authentic Japanese cuisine featuring expertly crafted sushi, sashimi, and traditional Japanese dishes. The chef uses only the finest ingredients to create beautiful presentations. The minimalist decor creates a peaceful dining environment perfect for enjoying the artistry of Japanese cuisine.&quot;,&#10;                shortDescription = &quot;Fresh authentic Japanese sushi&quot;,&#10;                rating = 0f, // Will be calculated from reviews&#10;                address = &quot;1300 King St E Unit 3, Oshawa, ON L1H 8J4&quot;,&#10;                phoneNumber = &quot;(905) 240-0888&quot;&#10;            ),&#10;            Restaurant(&#10;                name = &quot;Oshawa House Restaurant&quot;,&#10;                description = &quot;A local landmark serving comfort food and traditional favorites for over 30 years. Known for their generous portions, friendly service, and classic diner atmosphere. Popular for breakfast all day, hearty burgers, and homestyle dinners that remind you of home cooking.&quot;,&#10;                shortDescription = &quot;Classic comfort food diner&quot;,&#10;                rating = 0f, // Will be calculated from reviews&#10;                address = &quot;1425 King St E, Oshawa, ON L1H 8J6&quot;,&#10;                phoneNumber = &quot;(905) 579-4449&quot;&#10;            )&#10;        )&#10;&#10;        restaurants.forEach { restaurant -&gt;&#10;            db?.insert(&quot;restaurants&quot;, null, restaurant.toContentValues())&#10;        }&#10;    }&#10;&#10;    // insert premade users&#10;    private fun insertPremadeUsers(db: SQLiteDatabase?) {&#10;        if (db == null) return&#10;        &#10;        // Insert users directly during database creation to avoid recursion&#10;        val users = listOf(&#10;            Triple(&quot;Edoardo&quot;, &quot;edoardo.borlina@gmail.com&quot;, &quot;password&quot;),&#10;            Triple(&quot;Bralyn&quot;, &quot;bralynlp@gmail.com&quot;, &quot;password123&quot;),&#10;            Triple(&quot;User&quot;, &quot;user.example@email.com&quot;, &quot;password&quot;)&#10;        )&#10;        &#10;        users.forEach { (name, email, password) -&gt;&#10;            val salt = BCrypt.gensalt()&#10;            val passwordHash = BCrypt.hashpw(password, salt)&#10;            &#10;            val values = android.content.ContentValues().apply {&#10;                put(&quot;name&quot;, name)&#10;                put(&quot;email&quot;, email)&#10;                put(&quot;passwordHash&quot;, passwordHash)&#10;                put(&quot;salt&quot;, salt)&#10;            }&#10;            &#10;            db.insert(&quot;users&quot;, null, values)&#10;        }&#10;    }&#10;&#10;    // insert premade reviews&#10;    private fun insertPremadeReviews(db: SQLiteDatabase?) {&#10;        if (db == null) return&#10;&#10;        // Example reviews from different users&#10;        val reviews = listOf(&#10;            // Reviews for Symposium Cafe (restaurantId = 1)&#10;            Review(userId = 1, restaurantId = 1, rating = 4.0f, comment = &quot;Great atmosphere and delicious food!&quot;),&#10;            Review(userId = 2, restaurantId = 1, rating = 4.5f, comment = &quot;Love their desserts, highly recommended!&quot;),&#10;&#10;            // Reviews for The Keg Oshawa (restaurantId = 2)&#10;            Review(userId = 1, restaurantId = 2, rating = 5.0f, comment = &quot;Best steaks in town! Perfect cooking every time.&quot;),&#10;            Review(userId = 3, restaurantId = 2, rating = 4.0f, comment = &quot;Excellent service and quality meat.&quot;),&#10;&#10;            // Reviews for Fazio's Italian Restaurant (restaurantId = 3)&#10;            Review(userId = 2, restaurantId = 3, rating = 4.5f, comment = &quot;Authentic Italian cuisine, feels like home!&quot;),&#10;            Review(userId = 3, restaurantId = 3, rating = 5.0f, comment = &quot;The pasta is amazing, family-friendly atmosphere.&quot;),&#10;&#10;            // Reviews for Sushi Masa (restaurantId = 4)&#10;            Review(userId = 1, restaurantId = 4, rating = 4.5f, comment = &quot;Fresh sushi, beautiful presentation!&quot;),&#10;            Review(userId = 2, restaurantId = 4, rating = 4.0f, comment = &quot;Good quality fish, nice ambiance.&quot;),&#10;&#10;            // Reviews for Oshawa House Restaurant (restaurantId = 5)&#10;            Review(userId = 3, restaurantId = 5, rating = 4.0f, comment = &quot;Classic diner with great comfort food!&quot;)&#10;        )&#10;&#10;        reviews.forEach { review -&gt;&#10;            db.insert(&quot;reviews&quot;, null, review.toContentValues())&#10;        }&#10;&#10;        // Update restaurant ratings based on these reviews&#10;        for (restaurantId in 1..5) {&#10;            val avgRating = calculateAverageRatingFromDb(db, restaurantId)&#10;            val contentValues = android.content.ContentValues().apply {&#10;                put(&quot;rating&quot;, avgRating)&#10;            }&#10;            db.update(&quot;restaurants&quot;, contentValues, &quot;id = ?&quot;, arrayOf(restaurantId.toString()))&#10;        }&#10;    }&#10;&#10;    // Helper method to calculate average rating during onCreate (when db is being created)&#10;    private fun calculateAverageRatingFromDb(db: SQLiteDatabase, restaurantId: Int): Float {&#10;        val cursor = db.rawQuery(&#10;            &quot;SELECT AVG(rating) as avgRating FROM reviews WHERE restaurantId = ?&quot;,&#10;            arrayOf(restaurantId.toString())&#10;        )&#10;&#10;        var avgRating = 0f&#10;        if (cursor.moveToFirst()) {&#10;            val columnIndex = cursor.getColumnIndex(&quot;avgRating&quot;)&#10;            if (columnIndex != -1 &amp;&amp; !cursor.isNull(columnIndex)) {&#10;                avgRating = cursor.getFloat(columnIndex)&#10;            }&#10;        }&#10;        cursor.close()&#10;&#10;        return avgRating&#10;    }&#10;    /// Restaurants Table Methods&#10;&#10;    // Get all restaurants&#10;    fun getAllRestaurants(): List&lt;Restaurant&gt; {&#10;        val restaurants = mutableListOf&lt;Restaurant&gt;()&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&quot;SELECT * FROM restaurants&quot;, null)&#10;        while (cursor.moveToNext()) {&#10;            val restaurant: Restaurant = Restaurant.getFromCursor(cursor)&#10;            restaurants.add(restaurant)&#10;        }&#10;        cursor.close()&#10;        return restaurants&#10;    }&#10;&#10;    // insert a restaurant&#10;    fun insertRestaurant(restaurant: Restaurant){&#10;        val db = writableDatabase&#10;        db.insert(&quot;restaurants&quot;, null, restaurant.toContentValues())&#10;    }&#10;&#10;    // Update restaurant media (video and images)&#10;    fun updateRestaurantMedia(restaurantId: Int, videoUri: String?, image1Uri: String?, image2Uri: String?): Boolean {&#10;        val db = writableDatabase&#10;        val contentValues = android.content.ContentValues().apply {&#10;            put(&quot;videoUri&quot;, videoUri)&#10;            put(&quot;image1Uri&quot;, image1Uri)&#10;            put(&quot;image2Uri&quot;, image2Uri)&#10;        }&#10;        val result = db.update(&quot;restaurants&quot;, contentValues, &quot;id = ?&quot;, arrayOf(restaurantId.toString()))&#10;        return result &gt; 0&#10;    }&#10;&#10;&#10;    // Menu and Menu elements Methods&#10;    // Get menu for a restaurant given the name&#10;    fun getMenuForRestaurant(restaurantName: String): List&lt;Dish&gt; {&#10;        val dishes = mutableListOf&lt;Dish&gt;()&#10;        val db = readableDatabase&#10;        val query = &quot;&quot;&quot;&#10;            SELECT d.* FROM dishes d&#10;            JOIN menu_elements me ON d.id = me.dishId&#10;            JOIN restaurants r ON me.restaurantId = r.id&#10;            WHERE r.name = ?&#10;        &quot;&quot;&quot;&#10;        val cursor = db.rawQuery(query, arrayOf(restaurantName))&#10;        while (cursor.moveToNext()) {&#10;            val dish: Dish = Dish.getFromCursor(cursor)&#10;            dishes.add(dish)&#10;        }&#10;        cursor.close()&#10;        return dishes&#10;    }&#10;&#10;    // User Table Methods&#10;&#10;    // retrieve user by email&#10;    fun getUserByEmail(email: String): User? {&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&quot;SELECT * FROM users WHERE email = ?&quot;, arrayOf(email))&#10;        var user: User? = null&#10;        if (cursor.moveToFirst()) {&#10;            user = User.getFromCursor(cursor)&#10;        }&#10;        cursor.close()&#10;        return user&#10;    }&#10;&#10;    // register user&#10;    fun registerUser(name: String, email: String, password: String): Boolean {&#10;        val db = writableDatabase&#10;&#10;        // check if user already exists&#10;        val existingUser = getUserByEmail(email)&#10;        if (existingUser != null) {&#10;            return false&#10;        }&#10;&#10;&#10;        val salt = BCrypt.gensalt()&#10;        val passwordHash = BCrypt.hashpw(password, salt)&#10;&#10;        val user = User(&#10;            name = name,&#10;            email = email,&#10;            passwordHash = passwordHash,&#10;            salt = salt&#10;        )&#10;&#10;        val result = db.insert(&quot;users&quot;, null, user.toContentValues())&#10;        return result != -1L&#10;    }&#10;&#10;    // autenticate user&#10;    fun authenticateUser(email: String, password: String): User? {&#10;        val user = getUserByEmail(email) ?: return null&#10;&#10;        return if (BCrypt.checkpw(password, user.passwordHash)) {&#10;            user&#10;        } else {&#10;            null&#10;        }&#10;    }&#10;&#10;    // Review Methods&#10;&#10;    // Get all reviews for a restaurant&#10;    fun getReviewsForRestaurant(restaurantId: Int): List&lt;Review&gt; {&#10;        val reviews = mutableListOf&lt;Review&gt;()&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&quot;SELECT * FROM reviews WHERE restaurantId = ?&quot;, arrayOf(restaurantId.toString()))&#10;        while (cursor.moveToNext()) {&#10;            val review: Review = Review.getFromCursor(cursor)&#10;            reviews.add(review)&#10;        }&#10;        cursor.close()&#10;        return reviews&#10;    }&#10;&#10;    // Get review by user and restaurant (since user can only have one review per restaurant)&#10;    fun getUserReviewForRestaurant(userId: Int, restaurantId: Int): Review? {&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&quot;SELECT * FROM reviews WHERE userId = ? AND restaurantId = ?&quot;,&#10;            arrayOf(userId.toString(), restaurantId.toString()))&#10;        var review: Review? = null&#10;        if (cursor.moveToFirst()) {&#10;            review = Review.getFromCursor(cursor)&#10;        }&#10;        cursor.close()&#10;        return review&#10;    }&#10;&#10;    // Insert or update a review (since user can only have one review per restaurant)&#10;    fun insertOrUpdateReview(review: Review): Boolean {&#10;        val db = writableDatabase&#10;        val result = db.insertWithOnConflict(&quot;reviews&quot;, null, review.toContentValues(),&#10;            android.database.sqlite.SQLiteDatabase.CONFLICT_REPLACE)&#10;&#10;        // Update restaurant rating after insertion/update&#10;        if (result != -1L) {&#10;            updateRestaurantRating(review.restaurantId)&#10;        }&#10;&#10;        return result != -1L&#10;    }&#10;&#10;    // Delete a review&#10;    fun deleteReview(userId: Int, restaurantId: Int): Boolean {&#10;        val db = writableDatabase&#10;        val result = db.delete(&quot;reviews&quot;, &quot;userId = ? AND restaurantId = ?&quot;,&#10;            arrayOf(userId.toString(), restaurantId.toString()))&#10;&#10;        // Update restaurant rating after deletion&#10;        if (result &gt; 0) {&#10;            updateRestaurantRating(restaurantId)&#10;        }&#10;&#10;        return result &gt; 0&#10;    }&#10;&#10;    // Calculate average rating for a restaurant&#10;    fun calculateAverageRating(restaurantId: Int): Float {&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&#10;            &quot;SELECT AVG(rating) as avgRating FROM reviews WHERE restaurantId = ?&quot;,&#10;            arrayOf(restaurantId.toString())&#10;        )&#10;&#10;        var avgRating = 0f&#10;        if (cursor.moveToFirst()) {&#10;            val columnIndex = cursor.getColumnIndex(&quot;avgRating&quot;)&#10;            if (columnIndex != -1 &amp;&amp; !cursor.isNull(columnIndex)) {&#10;                avgRating = cursor.getFloat(columnIndex)&#10;            }&#10;        }&#10;        cursor.close()&#10;&#10;        return avgRating&#10;    }&#10;&#10;    // Update restaurant rating based on reviews&#10;    fun updateRestaurantRating(restaurantId: Int) {&#10;        val db = writableDatabase&#10;        val avgRating = calculateAverageRating(restaurantId)&#10;&#10;        val contentValues = android.content.ContentValues().apply {&#10;            put(&quot;rating&quot;, avgRating)&#10;        }&#10;&#10;        db.update(&quot;restaurants&quot;, contentValues, &quot;id = ?&quot;, arrayOf(restaurantId.toString()))&#10;    }&#10;&#10;    // Get restaurant by ID&#10;    fun getRestaurantById(restaurantId: Int): Restaurant? {&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&quot;SELECT * FROM restaurants WHERE id = ?&quot;, arrayOf(restaurantId.toString()))&#10;        var restaurant: Restaurant? = null&#10;        if (cursor.moveToFirst()) {&#10;            restaurant = Restaurant.getFromCursor(cursor)&#10;        }&#10;        cursor.close()&#10;        return restaurant&#10;    }&#10;&#10;    // Get restaurant by name&#10;    fun getRestaurantByName(restaurantName: String): Restaurant? {&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&quot;SELECT * FROM restaurants WHERE name = ?&quot;, arrayOf(restaurantName))&#10;        var restaurant: Restaurant? = null&#10;        if (cursor.moveToFirst()) {&#10;            restaurant = Restaurant.getFromCursor(cursor)&#10;        }&#10;        cursor.close()&#10;        return restaurant&#10;    }&#10;&#10;    // Get user name by ID&#10;    fun getUserNameById(userId: Int): String? {&#10;        val db = readableDatabase&#10;        val cursor = db.rawQuery(&quot;SELECT name FROM users WHERE id = ?&quot;, arrayOf(userId.toString()))&#10;        var userName: String? = null&#10;        if (cursor.moveToFirst()) {&#10;            userName = cursor.getString(cursor.getColumnIndexOrThrow(&quot;name&quot;))&#10;        }&#10;        cursor.close()&#10;        return userName&#10;    }&#10;&#10;&#10;}&#10;&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/test/project/database/Restaurant.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/test/project/database/Restaurant.kt" />
              <option name="originalContent" value="package com.test.project.database&#10;&#10;import android.content.ContentValues&#10;import android.database.Cursor&#10;&#10;data class Restaurant(&#10;    val id: Int? = null,&#10;    val name: String,&#10;    val description: String? = &quot;Short description not available&quot;,&#10;    val shortDescription: String? = &quot;Description not available&quot;,&#10;    val rating: Float? = 4.5f,&#10;    val address: String,&#10;    val phoneNumber: String,&#10;    val lat: Double = 0.0,&#10;    val lng: Double = 0.0&#10;){&#10;    fun toContentValues(): ContentValues{&#10;        return ContentValues().apply {&#10;            put(&quot;name&quot;, name)&#10;            put(&quot;address&quot;, address)&#10;            put(&quot;phoneNumber&quot;, phoneNumber)&#10;            put(&quot;description&quot;, description)&#10;            put(&quot;shortDescription&quot;, shortDescription)&#10;            put(&quot;rating&quot;, rating)&#10;        }&#10;    }&#10;&#10;    companion object{&#10;&#10;        fun getFromCursor(cursor: Cursor): Restaurant {&#10;            val id = cursor.getInt(cursor.getColumnIndexOrThrow(&quot;id&quot;))&#10;            val name = cursor.getString(cursor.getColumnIndexOrThrow(&quot;name&quot;))&#10;            val address = cursor.getString(cursor.getColumnIndexOrThrow(&quot;address&quot;))&#10;            val phoneNumber = cursor.getString(cursor.getColumnIndexOrThrow(&quot;phoneNumber&quot;))&#10;            val description = cursor.getString(cursor.getColumnIndexOrThrow(&quot;description&quot;))&#10;            val shortDescription = cursor.getString(cursor.getColumnIndexOrThrow(&quot;shortDescription&quot;))&#10;            val rating = cursor.getFloat(cursor.getColumnIndexOrThrow(&quot;rating&quot;))&#10;&#10;            return Restaurant(id, name, description, shortDescription, rating, address, phoneNumber)&#10;        }&#10;    }&#10;&#10;&#10;}" />
              <option name="updatedContent" value="package com.test.project.database&#13;&#10;&#13;&#10;import android.content.ContentValues&#13;&#10;import android.database.Cursor&#13;&#10;&#13;&#10;data class Restaurant(&#10;    val id: Int? = null,&#10;    val name: String,&#10;    val description: String? = &quot;Short description not available&quot;,&#10;    val shortDescription: String? = &quot;Description not available&quot;,&#10;    val rating: Float? = 4.5f,&#10;    val address: String,&#10;    val phoneNumber: String,&#10;    val lat: Double = 0.0,&#10;    val lng: Double = 0.0,&#10;    val videoUri: String? = null,&#10;    val image1Uri: String? = null,&#10;    val image2Uri: String? = null&#10;){&#10;    fun toContentValues(): ContentValues{&#10;        return ContentValues().apply {&#10;            put(&quot;name&quot;, name)&#10;            put(&quot;address&quot;, address)&#10;            put(&quot;phoneNumber&quot;, phoneNumber)&#10;            put(&quot;description&quot;, description)&#10;            put(&quot;shortDescription&quot;, shortDescription)&#10;            put(&quot;rating&quot;, rating)&#10;            put(&quot;videoUri&quot;, videoUri)&#10;            put(&quot;image1Uri&quot;, image1Uri)&#10;            put(&quot;image2Uri&quot;, image2Uri)&#10;        }&#10;    }&#10;&#10;    companion object{&#10;&#10;        fun getFromCursor(cursor: Cursor): Restaurant {&#10;            val id = cursor.getInt(cursor.getColumnIndexOrThrow(&quot;id&quot;))&#10;            val name = cursor.getString(cursor.getColumnIndexOrThrow(&quot;name&quot;))&#10;            val address = cursor.getString(cursor.getColumnIndexOrThrow(&quot;address&quot;))&#10;            val phoneNumber = cursor.getString(cursor.getColumnIndexOrThrow(&quot;phoneNumber&quot;))&#10;            val description = cursor.getString(cursor.getColumnIndexOrThrow(&quot;description&quot;))&#10;            val shortDescription = cursor.getString(cursor.getColumnIndexOrThrow(&quot;shortDescription&quot;))&#10;            val rating = cursor.getFloat(cursor.getColumnIndexOrThrow(&quot;rating&quot;))&#10;            &#10;            val videoUri = cursor.getColumnIndex(&quot;videoUri&quot;).let { &#10;                if (it != -1 &amp;&amp; !cursor.isNull(it)) cursor.getString(it) else null &#10;            }&#10;            val image1Uri = cursor.getColumnIndex(&quot;image1Uri&quot;).let { &#10;                if (it != -1 &amp;&amp; !cursor.isNull(it)) cursor.getString(it) else null &#10;            }&#10;            val image2Uri = cursor.getColumnIndex(&quot;image2Uri&quot;).let { &#10;                if (it != -1 &amp;&amp; !cursor.isNull(it)) cursor.getString(it) else null &#10;            }&#10;&#10;            return Restaurant(id, name, description, shortDescription, rating, address, phoneNumber, 0.0, 0.0, videoUri, image1Uri, image2Uri)&#10;        }&#10;    }&#10;&#10;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/activity_restaurant_detail.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/activity_restaurant_detail.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    android:fillViewport=&quot;true&quot;&gt;&#10;    &lt;androidx.constraintlayout.widget.ConstraintLayout&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&gt;&#10;&#10;        &lt;!-- app bar--&gt;&#10;        &lt;LinearLayout&#10;            android:id=&quot;@+id/appBar&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;            app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;            app:layout_constraintTop_toTopOf=&quot;parent&quot; &gt;&#10;&#10;            &lt;!-- Back Button --&gt;&#10;            &lt;ImageButton&#10;                android:id=&quot;@+id/backButton&quot;&#10;                android:layout_width=&quot;48dp&quot;&#10;                android:layout_height=&quot;48dp&quot;&#10;                android:layout_marginStart=&quot;4dp&quot;&#10;                android:background=&quot;?attr/selectableItemBackgroundBorderless&quot;&#10;                android:src=&quot;@drawable/ic_baseline_arrow_back_24&quot;&#10;                android:contentDescription=&quot;Back&quot;&#10;                app:tint=&quot;@android:color/white&quot; /&gt;&#10;&#10;            &lt;!-- Restaurant Name --&gt;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/restaurantNameTextView&quot;&#10;                android:layout_width=&quot;0dp&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;16dp&quot;&#10;                android:layout_marginStart=&quot;16dp&quot;&#10;                android:layout_marginEnd=&quot;16dp&quot;&#10;                android:text=&quot;Restaurant Name&quot;&#10;                android:textSize=&quot;24sp&quot;&#10;                android:textStyle=&quot;bold&quot;/&gt;&#10;&#10;        &lt;/LinearLayout&gt;&#10;&#10;        &lt;!-- Restaurant menu button --&gt;&#10;        &lt;Button&#10;            android:id=&quot;@+id/viewMenuButton&quot;&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginTop=&quot;16dp&quot;&#10;            android:text=&quot;menu&quot;&#10;            app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;            app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;            app:layout_constraintTop_toBottomOf=&quot;@+id/appBar&quot; /&gt;&#10;&#10;        &lt;!-- Reviews section title --&gt;&#10;        &lt;TextView&#10;            android:id=&quot;@+id/reviewsSectionTitle&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginStart=&quot;16dp&quot;&#10;            android:layout_marginEnd=&quot;16dp&quot;&#10;            android:layout_marginTop=&quot;24dp&quot;&#10;            android:text=&quot;Reviews&quot;&#10;            android:textSize=&quot;20sp&quot;&#10;            android:textStyle=&quot;bold&quot;&#10;            app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;            app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;            app:layout_constraintTop_toBottomOf=&quot;@+id/viewMenuButton&quot; /&gt;&#10;&#10;        &lt;!-- Add Comment Button --&gt;&#10;        &lt;Button&#10;            android:id=&quot;@+id/addCommentButton&quot;&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginTop=&quot;8dp&quot;&#10;            android:text=&quot;Add Review&quot;&#10;            app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;            app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;            app:layout_constraintTop_toBottomOf=&quot;@+id/reviewsSectionTitle&quot; /&gt;&#10;&#10;        &lt;!-- Reviews RecyclerView --&gt;&#10;        &lt;androidx.recyclerview.widget.RecyclerView&#10;            android:id=&quot;@+id/reviewsRecyclerView&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginStart=&quot;8dp&quot;&#10;            android:layout_marginEnd=&quot;8dp&quot;&#10;            android:layout_marginTop=&quot;16dp&quot;&#10;            android:layout_marginBottom=&quot;16dp&quot;&#10;            android:nestedScrollingEnabled=&quot;false&quot;&#10;            app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;            app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;            app:layout_constraintTop_toBottomOf=&quot;@+id/addCommentButton&quot;&#10;            app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;&#10;&#10;&#10;    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;&#10;&#10;&lt;/ScrollView&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    android:fillViewport=&quot;false&quot;&#10;    android:background=&quot;#F5F5F5&quot;&gt;&#10;    &#10;    &lt;LinearLayout&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:orientation=&quot;vertical&quot;&gt;&#10;&#10;        &lt;!-- Top Bar with Back Button and Restaurant Name --&gt;&#10;        &lt;com.google.android.material.appbar.MaterialToolbar&#10;            android:id=&quot;@+id/topAppBar&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:background=&quot;#FFFFFF&quot;&#10;            android:elevation=&quot;4dp&quot;&#10;            android:paddingTop=&quot;8dp&quot;&#10;            android:paddingBottom=&quot;8dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;horizontal&quot;&#10;                android:gravity=&quot;center_vertical&quot;&gt;&#10;&#10;                &lt;ImageButton&#10;                    android:id=&quot;@+id/backButton&quot;&#10;                    android:layout_width=&quot;48dp&quot;&#10;                    android:layout_height=&quot;48dp&quot;&#10;                    android:background=&quot;?attr/selectableItemBackgroundBorderless&quot;&#10;                    android:src=&quot;@drawable/ic_baseline_arrow_back_24&quot;&#10;                    android:contentDescription=&quot;Back&quot;&#10;                    android:tint=&quot;#000000&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/restaurantNameTextView&quot;&#10;                    android:layout_width=&quot;0dp&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_weight=&quot;1&quot;&#10;                    android:layout_marginStart=&quot;8dp&quot;&#10;                    android:layout_marginEnd=&quot;16dp&quot;&#10;                    android:text=&quot;Restaurant Name&quot;&#10;                    android:textSize=&quot;20sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;#000000&quot;&#10;                    android:maxLines=&quot;2&quot;&#10;                    android:ellipsize=&quot;end&quot; /&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.appbar.MaterialToolbar&gt;&#10;&#10;        &lt;!-- Video Section --&gt;&#10;        &lt;com.google.android.material.card.MaterialCardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_margin=&quot;16dp&quot;&#10;            app:cardCornerRadius=&quot;12dp&quot;&#10;            app:cardElevation=&quot;4dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;16dp&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;Video Presentation&quot;&#10;                    android:textSize=&quot;18sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;#000000&quot;&#10;                    android:layout_marginBottom=&quot;12dp&quot; /&gt;&#10;&#10;                &lt;VideoView&#10;                    android:id=&quot;@+id/restaurantVideoView&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;200dp&quot;&#10;                    android:background=&quot;#E0E0E0&quot;&#10;                    android:layout_marginBottom=&quot;12dp&quot; /&gt;&#10;&#10;                &lt;Button&#10;                    android:id=&quot;@+id/uploadVideoButton&quot;&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_gravity=&quot;center_horizontal&quot;&#10;                    android:text=&quot;Upload Video&quot;&#10;                    style=&quot;@style/Widget.Material3.Button.OutlinedButton&quot; /&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;        &lt;!-- Images Section --&gt;&#10;        &lt;com.google.android.material.card.MaterialCardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginStart=&quot;16dp&quot;&#10;            android:layout_marginEnd=&quot;16dp&quot;&#10;            android:layout_marginBottom=&quot;16dp&quot;&#10;            app:cardCornerRadius=&quot;12dp&quot;&#10;            app:cardElevation=&quot;4dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;16dp&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;Photo Gallery&quot;&#10;                    android:textSize=&quot;18sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;#000000&quot;&#10;                    android:layout_marginBottom=&quot;12dp&quot; /&gt;&#10;&#10;                &lt;LinearLayout&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:orientation=&quot;horizontal&quot;&#10;                    android:weightSum=&quot;2&quot;&#10;                    android:layout_marginBottom=&quot;12dp&quot;&gt;&#10;&#10;                    &lt;ImageView&#10;                        android:id=&quot;@+id/restaurantImage1&quot;&#10;                        android:layout_width=&quot;0dp&quot;&#10;                        android:layout_height=&quot;150dp&quot;&#10;                        android:layout_weight=&quot;1&quot;&#10;                        android:layout_marginEnd=&quot;8dp&quot;&#10;                        android:scaleType=&quot;centerCrop&quot;&#10;                        android:background=&quot;#E0E0E0&quot;&#10;                        android:src=&quot;@drawable/sample_restaurant&quot;&#10;                        android:contentDescription=&quot;Restaurant image 1&quot; /&gt;&#10;&#10;                    &lt;ImageView&#10;                        android:id=&quot;@+id/restaurantImage2&quot;&#10;                        android:layout_width=&quot;0dp&quot;&#10;                        android:layout_height=&quot;150dp&quot;&#10;                        android:layout_weight=&quot;1&quot;&#10;                        android:layout_marginStart=&quot;8dp&quot;&#10;                        android:scaleType=&quot;centerCrop&quot;&#10;                        android:background=&quot;#E0E0E0&quot;&#10;                        android:src=&quot;@drawable/sample_restaurant&quot;&#10;                        android:contentDescription=&quot;Restaurant image 2&quot; /&gt;&#10;                &lt;/LinearLayout&gt;&#10;&#10;                &lt;LinearLayout&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:orientation=&quot;horizontal&quot;&#10;                    android:gravity=&quot;center&quot;&gt;&#10;&#10;                    &lt;Button&#10;                        android:id=&quot;@+id/uploadImage1Button&quot;&#10;                        android:layout_width=&quot;wrap_content&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:text=&quot;Upload Image 1&quot;&#10;                        android:layout_marginEnd=&quot;8dp&quot;&#10;                        style=&quot;@style/Widget.Material3.Button.OutlinedButton&quot; /&gt;&#10;&#10;                    &lt;Button&#10;                        android:id=&quot;@+id/uploadImage2Button&quot;&#10;                        android:layout_width=&quot;wrap_content&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:text=&quot;Upload Image 2&quot;&#10;                        android:layout_marginStart=&quot;8dp&quot;&#10;                        style=&quot;@style/Widget.Material3.Button.OutlinedButton&quot; /&gt;&#10;                &lt;/LinearLayout&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;        &lt;!-- Restaurant Info Section --&gt;&#10;        &lt;com.google.android.material.card.MaterialCardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginStart=&quot;16dp&quot;&#10;            android:layout_marginEnd=&quot;16dp&quot;&#10;            android:layout_marginBottom=&quot;16dp&quot;&#10;            app:cardCornerRadius=&quot;12dp&quot;&#10;            app:cardElevation=&quot;4dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;16dp&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;About&quot;&#10;                    android:textSize=&quot;18sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;#000000&quot;&#10;                    android:layout_marginBottom=&quot;12dp&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/restaurantDescriptionTextView&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;Restaurant description will appear here...&quot;&#10;                    android:textSize=&quot;14sp&quot;&#10;                    android:textColor=&quot;#666666&quot;&#10;                    android:lineSpacingExtra=&quot;4dp&quot; /&gt;&#10;&#10;                &lt;View&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;1dp&quot;&#10;                    android:layout_marginTop=&quot;16dp&quot;&#10;                    android:layout_marginBottom=&quot;16dp&quot;&#10;                    android:background=&quot;#E0E0E0&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/restaurantAddressTextView&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot; Address&quot;&#10;                    android:textSize=&quot;14sp&quot;&#10;                    android:textColor=&quot;#333333&quot;&#10;                    android:layout_marginBottom=&quot;8dp&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/restaurantPhoneTextView&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot; Phone&quot;&#10;                    android:textSize=&quot;14sp&quot;&#10;                    android:textColor=&quot;#333333&quot;&#10;                    android:layout_marginBottom=&quot;16dp&quot; /&gt;&#10;&#10;                &lt;Button&#10;                    android:id=&quot;@+id/viewMenuButton&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;View Menu&quot;&#10;                    android:textAllCaps=&quot;false&quot;&#10;                    style=&quot;@style/Widget.Material3.Button&quot; /&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;        &lt;!-- Reviews Section --&gt;&#10;        &lt;com.google.android.material.card.MaterialCardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginStart=&quot;16dp&quot;&#10;            android:layout_marginEnd=&quot;16dp&quot;&#10;            android:layout_marginBottom=&quot;16dp&quot;&#10;            app:cardCornerRadius=&quot;12dp&quot;&#10;            app:cardElevation=&quot;4dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;16dp&quot;&gt;&#10;&#10;                &lt;LinearLayout&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:orientation=&quot;horizontal&quot;&#10;                    android:gravity=&quot;center_vertical&quot;&#10;                    android:layout_marginBottom=&quot;12dp&quot;&gt;&#10;&#10;                    &lt;TextView&#10;                        android:id=&quot;@+id/reviewsSectionTitle&quot;&#10;                        android:layout_width=&quot;0dp&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:layout_weight=&quot;1&quot;&#10;                        android:text=&quot;Reviews&quot;&#10;                        android:textSize=&quot;18sp&quot;&#10;                        android:textStyle=&quot;bold&quot;&#10;                        android:textColor=&quot;#000000&quot; /&gt;&#10;&#10;                    &lt;Button&#10;                        android:id=&quot;@+id/addCommentButton&quot;&#10;                        android:layout_width=&quot;wrap_content&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:text=&quot;Add Review&quot;&#10;                        android:textSize=&quot;12sp&quot;&#10;                        style=&quot;@style/Widget.Material3.Button.TonalButton&quot; /&gt;&#10;                &lt;/LinearLayout&gt;&#10;&#10;                &lt;androidx.recyclerview.widget.RecyclerView&#10;                    android:id=&quot;@+id/reviewsRecyclerView&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:nestedScrollingEnabled=&quot;false&quot; /&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;    &lt;/LinearLayout&gt;&#10;&lt;/ScrollView&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>