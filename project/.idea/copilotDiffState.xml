<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/test/project/Dish.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/test/project/Dish.kt" />
              <option name="updatedContent" value="package com.test.project&#10;&#10;data class Dish(&#10;    val id: Int,&#10;    val name: String,&#10;    val description: String,&#10;    val price: Double,&#10;    val imageUrl: String? = null&#10;)" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/test/project/LoginPageActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/test/project/LoginPageActivity.kt" />
              <option name="originalContent" value="package com.test.project&#10;&#10;import android.content.Intent&#10;import android.os.Bundle&#10;import android.util.Log&#10;import android.widget.Button&#10;import android.widget.EditText&#10;import android.widget.Toast&#10;import androidx.activity.enableEdgeToEdge&#10;import androidx.appcompat.app.AppCompatActivity&#10;import androidx.core.view.ViewCompat&#10;import androidx.core.view.WindowInsetsCompat&#10;import com.test.project.database.DatabaseHelper&#10;import org.mindrot.jbcrypt.BCrypt&#10;import androidx.core.content.edit&#10;&#10;class LoginPageActivity : AppCompatActivity()&#10;{&#10;    lateinit var usernameInput : EditText&#10;    lateinit var passwordInput : EditText&#10;    lateinit var loginBtn : Button&#10;&#10;    lateinit var databaseHelper: DatabaseHelper&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?)&#10;    {&#10;        super.onCreate(savedInstanceState)&#10;&#10;        // Check if user is already logged in&#10;        if (isUserLoggedIn()) {&#10;            val intent = Intent(this, RestaurantViewActivity::class.java)&#10;            startActivity(intent)&#10;            finish()&#10;            return&#10;        }&#10;&#10;        setContentView(R.layout.activity_login_page)&#10;&#10;        databaseHelper = DatabaseHelper(this)&#10;&#10;        usernameInput = findViewById(R.id.username_input)&#10;        passwordInput = findViewById(R.id.password_input)&#10;        loginBtn = findViewById(R.id.login_button)&#10;&#10;        loginBtn.setOnClickListener()&#10;        {&#10;            val email = usernameInput.text.toString();&#10;            val password = passwordInput.text.toString();&#10;&#10;            if (email.isEmpty() || password.isEmpty()) {&#10;                Toast.makeText(this, &quot;Please fill all fields&quot;, Toast.LENGTH_SHORT).show()&#10;                return@setOnClickListener&#10;            }&#10;&#10;            val user = databaseHelper.authenticateUser(email, password)&#10;            if (user != null) {&#10;                // Login successful&#10;                Toast.makeText(this, &quot;Welcome ${user.name}!&quot;, Toast.LENGTH_SHORT).show()&#10;&#10;                // Save user session&#10;                saveUserSession(user)&#10;&#10;                // Navigate to main activity&#10;                val intent = Intent(this, RestaurantViewActivity::class.java)&#10;                intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TASK&#10;                startActivity(intent)&#10;                finish()&#10;            } else {&#10;                Toast.makeText(this, &quot;Invalid email or password&quot;, Toast.LENGTH_SHORT).show()&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun saveUserSession(user: com.test.project.database.User) {&#10;        val sharedPref = getSharedPreferences(&quot;user_session&quot;, MODE_PRIVATE)&#10;        sharedPref.edit() {&#10;            putString(&quot;user_name&quot;, user.name)&#10;            putString(&quot;user_email&quot;, user.email)&#10;            putBoolean(&quot;is_logged_in&quot;, true)&#10;        }&#10;    }&#10;&#10;    private fun isUserLoggedIn(): Boolean {&#10;        val sharedPref = getSharedPreferences(&quot;user_session&quot;, MODE_PRIVATE)&#10;        return sharedPref.getBoolean(&quot;is_logged_in&quot;, false)&#10;    }&#10;&#10;&#10;}" />
              <option name="updatedContent" value="package com.test.project&#10;&#10;import android.content.Intent&#10;import android.os.Bundle&#10;import android.util.Log&#10;import android.widget.Button&#10;import android.widget.EditText&#10;import android.widget.Toast&#10;import androidx.activity.enableEdgeToEdge&#10;import androidx.appcompat.app.AppCompatActivity&#10;import androidx.core.view.ViewCompat&#10;import androidx.core.view.WindowInsetsCompat&#10;import com.test.project.database.DatabaseHelper&#10;import org.mindrot.jbcrypt.BCrypt&#10;import androidx.core.content.edit&#10;&#10;class LoginPageActivity : AppCompatActivity()&#10;{&#10;    lateinit var usernameInput : EditText&#10;    lateinit var passwordInput : EditText&#10;    lateinit var loginBtn : Button&#10;&#10;    lateinit var databaseHelper: DatabaseHelper&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?)&#10;    {&#10;        super.onCreate(savedInstanceState)&#10;&#10;        // Check if user is already logged in&#10;        if (isUserLoggedIn()) {&#10;            val intent = Intent(this, RestaurantViewActivity::class.java)&#10;            startActivity(intent)&#10;            finish()&#10;            return&#10;        }&#10;&#10;        setContentView(R.layout.activity_login_page)&#10;&#10;        databaseHelper = DatabaseHelper(this)&#10;&#10;        usernameInput = findViewById(R.id.username_input)&#10;        passwordInput = findViewById(R.id.password_input)&#10;        loginBtn = findViewById(R.id.login_button)&#10;&#10;        loginBtn.setOnClickListener()&#10;        {&#10;            val email = usernameInput.text.toString();&#10;            val password = passwordInput.text.toString();&#10;&#10;            if (email.isEmpty() || password.isEmpty()) {&#10;                Toast.makeText(this, &quot;Please fill all fields&quot;, Toast.LENGTH_SHORT).show()&#10;                return@setOnClickListener&#10;            }&#10;&#10;            val user = databaseHelper.authenticateUser(email, password)&#10;            if (user != null) {&#10;                // Login successful&#10;                Toast.makeText(this, &quot;Welcome ${user.name}!&quot;, Toast.LENGTH_SHORT).show()&#10;&#10;                // Save user session&#10;                saveUserSession(user)&#10;&#10;                // Navigate to main activity&#10;                val intent = Intent(this, RestaurantViewActivity::class.java)&#10;                intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TASK&#10;                startActivity(intent)&#10;                finish()&#10;            } else {&#10;                Toast.makeText(this, &quot;Invalid email or password&quot;, Toast.LENGTH_SHORT).show()&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun saveUserSession(user: com.test.project.database.User) {&#10;        val sharedPref = getSharedPreferences(&quot;user_session&quot;, MODE_PRIVATE)&#10;        sharedPref.edit() {&#10;            putString(&quot;user_name&quot;, user.name)&#10;            putString(&quot;user_email&quot;, user.email)&#10;            putBoolean(&quot;is_logged_in&quot;, true)&#10;        }&#10;    }&#10;&#10;    private fun isUserLoggedIn(): Boolean {&#10;        val sharedPref = getSharedPreferences(&quot;user_session&quot;, MODE_PRIVATE)&#10;        return sharedPref.getBoolean(&quot;is_logged_in&quot;, false)&#10;    }&#10;&#10;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>